"use strict";(self.webpackChunkccvq_client=self.webpackChunkccvq_client||[]).push([[290],{65136:function(e,t,n){var r,a=n(30168),o=n(47313),i=n(18527),s=n(57557),l=n(46417),c={span:i.Q,p:(0,l.jsx)("p",{})},d=new s.Parser(o);function u(){return!0}var p=[{shouldProcessNode:function(e){return e.name&&c[e.name]},processNode:function(e,t){var n=c[e.name];if("math display"===e.attribs.class&&"span"===e.name){var o=e.children[0].data.slice(2,-2);return(0,l.jsx)(i.Q,{tex:String.raw(r||(r=(0,a.Z)(["",""])),o),display:!1})}return"p"===e.name?(0,l.jsx)(l.Fragment,{children:t}):(0,l.jsx)(n,{})}},{shouldProcessNode:function(){return!0},processNode:new s.ProcessNodeDefinitions(o).processDefaultNode}];t.Z=function(e){var t,n=e.string;return(0,l.jsx)(l.Fragment,{children:(t=n,d.parseWithInstructions(t,u,p))})}},70095:function(e,t,n){n.d(t,{S:function(){return i}});var r=n(47313),a=n(25532),o=n(3201),i=function(){var e=(0,r.useContext)(a.T),t=e.state,n=e.action;(0,r.useEffect)((function(){return o.W.on("server:connectedData",(function(e){n.setConnections(e.users,e.viewer),e.scores.forEach((function(e){n.setPlayerName(e.order,e.name)})),n.addLog("INFO",e.info.role,"".concat(e.info.name," v\u1eeba k\u1ebft n\u1ed1i")),"/controller"===document.location.pathname&&o.W.emit("controller:talk",{receivers:["mc","client","viewer","livestream","scoreboard"],eventName:"ccvq:updateScore",data:{players:t.players}})})),o.W.on("server:disconnectedData",(function(e){})),o.W.on("ccvq:controllerReset",(function(e){"success"===e.status&&window.location.reload()})),function(){o.W.off("server:connectedData"),o.W.off("server:disconnectedData"),o.W.off("ccvq:controllerReset")}}),[])}},16414:function(e,t,n){n.d(t,{J:function(){return i},z:function(){return s}});var r=n(29439),a=n(47313),o=n(3201),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{step:100},t=e.step,n=(0,a.useState)(0),i=(0,r.Z)(n,2),s=i[0],l=i[1],c=(0,a.useState)(!0),d=(0,r.Z)(c,2),u=d[0],p=d[1],m=(0,a.useState)(0),x=(0,r.Z)(m,2),h=x[0],f=x[1],v=(0,a.useState)(0),g=(0,r.Z)(v,2),b=g[0],y=g[1],j=(0,a.useState)((new Date).getTime()),C=(0,r.Z)(j,2),k=C[0],w=C[1];return(0,a.useEffect)((function(){return o.W.on("ccvq:setTime",(function(e){f(1e3*e.seconds),l(1e3*e.seconds),y(1e3*e.seconds)})),o.W.on("ccvq:timeState",(function(e){"pause"!==e.status&&"timeout"!==e.status||p(!0),"start"===e.status&&(p(!1),w((new Date).getTime()))})),function(){o.W.off("ccvq:setTime"),o.W.off("ccvq:timeState")}}),[]),(0,a.useEffect)((function(){if(!u){var e=setTimeout((function(){h>0?f(h-t):clearTimeout(e)}),t);return function(){clearTimeout(e)}}}),[u,h]),(0,a.useEffect)((function(){if(Date.now()-k<=s&&s!==h){var e=Date.now()-k;y(s-e)}}),[h]),{timer:b,pause:u,time:s}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{step:100,isTimer:!1},t=e.step,n=e.isTimer,i=(0,a.useState)(null),s=(0,r.Z)(i,2),l=s[0],c=s[1],d=(0,a.useState)(0),u=(0,r.Z)(d,2),p=u[0],m=u[1],x=(0,a.useState)(!0),h=(0,r.Z)(x,2),f=h[0],v=h[1],g=(0,a.useState)(0),b=(0,r.Z)(g,2),y=b[0],j=b[1],C=(0,a.useState)(new Date),k=(0,r.Z)(C,2),w=k[0],Z=k[1],N=function(){j(0),m(l),Z((new Date).getTime()-0),n&&o.W.emit("controller:talk",{receivers:["viewer","livestream","mc","client"],eventName:"ccvq:timeState",data:{status:"reset"}})},S=function(e){if(e)return v(!0),c(1e3*e),j(0),Z((new Date).getTime()-0),v(!1),void(n&&o.W.emit("controller:talk",{receivers:["viewer","livestream","mc","client"],eventName:"ccvq:timeState",data:{status:"start"}}));l&&l>0&&(v(!0),Z((new Date).getTime()-y),v(!1))},T=function(){n&&o.W.emit("controller:talk",{receivers:["viewer","livestream","mc","client"],eventName:"ccvq:timeState",data:{status:"pause"}}),v(!0)};return(0,a.useEffect)((function(){l>0&&m(l)}),[l]),(0,a.useEffect)((function(){if(!f){var e=setInterval((function(){p>0?m(p-t):v(!0)}),t);return function(){clearInterval(e)}}}),[f,p]),(0,a.useEffect)((function(){if(Date.now()-w<=l&&l!==p){var e=Date.now()-w;Math.round(e/l*100)>=99&&v(!0),j(e)}}),[p]),{duration:l,setDuration:c,timer:y,isPause:f,handleReset:N,handleOnPause:T,handleOnStart:S}}},76290:function(e,t,n){n.r(t),n.d(t,{default:function(){return ar}});var r=n(29439),a=n(47313),o=n(31904),i=n(3201),s=n(3353),l=n(80836),c=n(8550),d=n(79855),u=n(93433),p=n(16450),m=n(68721),x=n(97741),h=n(47605),f=n(51268),v=n.n(f),g=n(32434),b=n(71003),y=n(96301),j=n(46417),C=(0,o.Z)((function(e){return{container:{position:"relative",backgroundColor:e.palette.tertiary.main,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,boxShadow:"5px 5px 5px rgba(0, 0, 0, 0.5)",border:"10px solid ".concat(e.palette.secondary.dark),borderRadius:25,minHeight:400},left:{position:"absolute",top:"50%",left:0,height:"100%",width:20,transform:"translate(0, -30%)"},right:{position:"absolute",top:"50%",right:0,height:"100%",width:20,transform:"translate(0, -70%) rotate(180deg)"},top:{position:"absolute",top:0,left:"50%",height:20,width:"100%",transform:"translate(-25%, 0)",display:"flex"},bottom:{position:"absolute",bottom:0,left:"50%",height:20,width:"100%",transform:"translate(-25%, 0)",display:"flex"},triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"20px 0 0 20px",borderColor:"transparent transparent transparent ".concat(e.palette.secondary.dark)},rectangle:{width:20,height:"50%",backgroundColor:e.palette.secondary.dark},hRectangle:{width:"50%",height:20,backgroundColor:e.palette.secondary.dark},content:{padding:40,color:"#f9f9f9",textShadow:"1px 0 #1e1e1e, -1px 0 #1e1e1e, 0 1px #1e1e1e, 0 -1px #1e1e1e, 1px 1px #1e1e1e, -1px -1px #1e1e1e, 1px -1px #1e1e1e, -1px 1px #1e1e1e",letterSpacing:5,height:"90%"},actions:{position:"absolute",bottom:10,left:30,display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",paddingRight:60}}})),k=function(e){var t=e.show,n=e.children,r=e.onClose,a=e.onSubmit,o=e.type,i=void 0===o?"small":o,s=C();return(0,j.jsx)(g.Z,{open:t,onClose:r,"aria-labelledby":"custom-modal-title","aria-describedby":"custom-modal-description",children:(0,j.jsxs)("div",{className:s.container,style:{width:"small"===i?"40vw":"large"===i?"60vw":"medium"===i?"30vw":800,height:"medium"===i?"80vh":"auto"},children:[(0,j.jsx)(l.Z,{sx:{position:"absolute",right:20,top:20,fontSize:40},onClick:r,children:(0,j.jsx)(y.Z,{fontSize:"inherit"})}),"small"===i?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:s.left,children:[(0,j.jsx)("div",{className:s.triangle}),(0,j.jsx)("div",{className:s.rectangle}),(0,j.jsx)("div",{className:s.triangle,style:{transform:"rotate(90deg)"}})]}),(0,j.jsxs)("div",{className:s.right,children:[(0,j.jsx)("div",{className:s.triangle}),(0,j.jsx)("div",{className:s.rectangle}),(0,j.jsx)("div",{className:s.triangle,style:{transform:"rotate(90deg)"}})]})]}):"large"===i?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:s.left,children:[(0,j.jsx)("div",{className:s.triangle}),(0,j.jsx)("div",{className:s.rectangle}),(0,j.jsx)("div",{className:s.triangle,style:{transform:"rotate(90deg)"}})]}),(0,j.jsxs)("div",{className:s.right,children:[(0,j.jsx)("div",{className:s.triangle}),(0,j.jsx)("div",{className:s.rectangle}),(0,j.jsx)("div",{className:s.triangle,style:{transform:"rotate(90deg)"}})]}),(0,j.jsxs)("div",{className:s.top,children:[(0,j.jsx)("div",{className:s.triangle,style:{transform:"rotate(180deg)"}}),(0,j.jsx)("div",{className:s.hRectangle}),(0,j.jsx)("div",{className:s.triangle,style:{transform:"rotate(90deg)"}})]}),(0,j.jsxs)("div",{className:s.bottom,children:[(0,j.jsx)("div",{className:s.triangle,style:{transform:"rotate(-90deg)"}}),(0,j.jsx)("div",{className:s.hRectangle}),(0,j.jsx)("div",{className:s.triangle})]})]}):"medium"===i?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:s.top,children:[(0,j.jsx)("div",{className:s.triangle,style:{transform:"rotate(180deg)"}}),(0,j.jsx)("div",{className:s.hRectangle}),(0,j.jsx)("div",{className:s.triangle,style:{transform:"rotate(90deg)"}})]}),(0,j.jsxs)("div",{className:s.bottom,children:[(0,j.jsx)("div",{className:s.triangle,style:{transform:"rotate(-90deg)"}}),(0,j.jsx)("div",{className:s.hRectangle}),(0,j.jsx)("div",{className:s.triangle})]})]}):(0,j.jsx)("div",{}),(0,j.jsx)("div",{className:s.content,style:{paddingTop:30},children:n}),(0,j.jsxs)("div",{className:s.actions,style:"medium"===i?{marginBottom:"25px"}:{},children:[(0,j.jsx)(b.Z,{color:"danger",variant:"contained",onClick:r,style:{border:"3px solid black",borderRadius:20,color:"white"},sx:{padding:"5px 30px",fontWeight:"bold",letterSpacing:3},children:"Decline"}),(0,j.jsx)(b.Z,{color:"success",variant:"contained",onClick:a,style:{border:"3px solid black",borderRadius:20,color:"white"},sx:{padding:"5px 30px",fontWeight:"bold",letterSpacing:3},children:"Accept"})]})]})})},w=n(25532),Z=[{name:"\u0110i\u1ec1u khi\u1ec3n H\u1ec7 th\u1ed1ng",title:"\u0110i\u1ec1u khi\u1ec3n H\u1ec7 th\u1ed1ng",id:"DKHT",numberOfFiles:6},{name:"M\xe0n h\xecnh \u0111i\u1ec3m thi",title:"M\xe0n h\xecnh \u0111i\u1ec3m thi",id:"MHDT"},{name:"Kh\u1edfi \u0111\u1ed9ng",title:"Kh\u1edfi \u0111\u1ed9ng",id:"KD",maxQuestions:18,time:60,url:"video/Ti\xean ph\xe1t ch\u1ebf nh\xe2n.mp4"},{name:"V\u01b0\u1ee3t ch\u01b0\u1edbng ng\u1ea1i v\u1eadt",title:"V\u01b0\u1ee3t ch\u01b0\u1edbng ng\u1ea1i v\u1eadt",id:"VCNV",time:15,url:"video/C\xf4ng th\xe0nh chi\u1ebfn.mp4"},{name:"T\u0103ng t\u1ed1c",title:"T\u0103ng t\u1ed1c",id:"TT",time1:10,time2:20,time3:30,time4:40,score1st:40,score2nd:30,score3rd:20,score4th:10,url:"video/T\u1ed1c chi\u1ebfn t\u1ed1c th\u1eafng.mp4"},{name:"V\u1ec1 \u0111\xedch",title:"V\u1ec1 \u0111\xedch",id:"VD",time10:10,time20:15,time30:20,scoreMinus10:5,scoreMinus20:10,scoreMinus30:15,scoreStar10:20,scoreStar20:40,scoreStar30:60,url:"video/M\xe3 \u0111\xe1o th\xe0nh c\xf4ng.mp4"},{name:"C\xe2u h\u1ecfi ph\u1ee5",title:"C\xe2u h\u1ecfi ph\u1ee5",id:"CHP",time:15}],N={name:"V\u1ec1 \u0111\xedch",title:"V\u1ec1 \u0111\xedch",id:"VD",time10:10,time20:15,time30:20,lab10:20,lab20:30,lab30:40,scoreMinus10:5,scoreMinus20:10,scoreMinus30:15,scoreStar10:20,scoreStar20:40,scoreStar30:60},S=(0,o.Z)((function(e){return{connectionStatement:{backgroundColor:e.palette.secondary.main,padding:10,borderRadius:"50%",width:100,height:100,marginRight:"2rem",border:"1px solid black",boxShadow:"5px 5px 5px black"},disconnection:{width:80,height:80,backgroundColor:e.palette.info.main,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",fontSize:30,fontWeight:"bold"},name:{backgroundColor:e.palette.danger.main,color:"white",borderRadius:"50%",width:70,height:70,position:"absolute",top:5,left:5,display:"flex",justifyContent:"center",alignItems:"center",border:"5px solid black",boxShadow:"5px 5px 5px rgba(0, 0, 0, 0.6)"},foo:{"&:hover":{cursor:"pointer"}}}})),T=(0,o.Z)((function(e){return{playerConnection:{display:"flex",marginTop:30},othersConnection:{display:"flex",width:"100%",flexDirection:"row-reverse"},connected:{backgroundColor:e.palette.success.main},disconnected:{backgroundColor:e.palette.danger.main},box:{border:"1px solid black",borderRadius:20,width:100,height:30,marginRight:10}}})),R=function(e){var t=e.roundName,n=e.show,o=e.setShow,s=e.openController,l=T(),c=(0,a.useContext)(w.T).state,d=c.players,u=c.connections,p=(0,a.useState)(t),f=(0,r.Z)(p,2),v=f[0],g=f[1];return(0,j.jsxs)(k,{show:n,onClose:function(){return o(!1)},onSubmit:function(){v&&(s(v),i.W.emit("controller:talk",{receivers:["viewer","livestream","client","mc"],eventName:"ccvq:changeRound",data:{roundName:v}}),i.W.emit("controller:talk",{receivers:["mc"],eventName:"ccvq:choosePlayer",data:{order:-1}}),o(!1))},children:[(0,j.jsx)("h1",{children:"PLAYGROUND"}),(0,j.jsx)("div",{className:l.playerConnection,children:d.map((function(e){return(0,j.jsx)("div",{children:u["client".concat(e.order)]?(0,j.jsx)("div",{className:"".concat(l.connected," ").concat(l.box)}):(0,j.jsx)("div",{className:"".concat(l.disconnected," ").concat(l.box)})},e.order)}))}),(0,j.jsx)(m.Z,{title:"Menu \u0111i\u1ec1u khi\u1ec3n",id:"form_control",type:"select",value:v,onChange:function(e){return g(e.target.value)},variant:"outlined",style:{width:"100%",backgroundColor:"#c4c4c4",marginTop:30,marginBottom:30},sx:{height:80,borderRadius:5,textShadow:"none"},children:Z.map((function(e,t){return(0,j.jsx)(x.Z,{value:e.id,className:l.menuItem,inputProps:{style:{textAlign:"center"}},children:(0,j.jsx)(h.Z,{variant:"h6",color:"initial",children:e.name})},t)}))}),(0,j.jsxs)("div",{className:l.othersConnection,children:[u.mc?(0,j.jsx)("div",{className:"".concat(l.connected," ").concat(l.box)}):(0,j.jsx)("div",{className:"".concat(l.disconnected," ").concat(l.box)}),u.viewer&&Object.keys(u.viewer).length>0?(0,j.jsx)(j.Fragment,{children:Object.keys(u.viewer).map((function(e){return(0,j.jsx)("div",{className:"".concat(l.connected," ").concat(l.box)},e.name)}))}):(0,j.jsx)("div",{className:"".concat(l.disconnected," ").concat(l.box)})]})]})},I=function(e){var t=e.roundName,n=e.openController,o=S(),i=(0,a.useState)(!1),s=(0,r.Z)(i,2),c=s[0],d=s[1],m=(0,a.useState)([]),x=(0,r.Z)(m,2),h=x[0],f=x[1],g=(0,a.useContext)(w.T).state.connections;return(0,a.useEffect)((function(){var e=new RegExp("^client.$");["client1","client2","client3","client4","mc","livestream","viewer"].forEach((function(t){var n=t.toUpperCase();e.test(t)?n=t.replace("client","P"):"livestream"===t?n="L1":"viewer"===t&&(n="V1"),g[t]||h[n]?g[t]&&h[n]&&f((function(e){return e.filter((function(e){return e===n}))})):f((function(e){return[].concat((0,u.Z)(e),[n])}))}))}),[g]),(0,j.jsxs)("div",{className:o.connectionStatement,children:[(0,j.jsx)(R,{roundName:t,show:c,setShow:d,openController:n}),h.length>0?(0,j.jsx)("div",{onClick:function(){return d(!0)},className:o.foo,children:(0,j.jsx)(v(),{NextIcon:(0,j.jsx)("div",{}),PrevIcon:(0,j.jsx)("div",{}),autoPlay:!0,indicatorIconButtonProps:{style:{display:"none"}},className:o.disconnection,animation:"slide",children:h.map((function(e){return(0,j.jsx)("div",{className:o.name,children:e},e)}))})}):(0,j.jsx)(l.Z,{style:{fontSize:60},sx:function(e){return{color:"black",backgroundColor:e.palette.info.main,"&:hover":{backgroundColor:e.palette.success.main,border:0,color:e.palette.info.main}}},onClick:function(){return d(!0)},children:(0,j.jsx)(p.Z,{fontSize:"inherit",htmlColor:"inherit"})})]})},B=n(4942),W=n(1413),q=n(1168),D=n(96918),_=n(97753),Q=n(74636),P=n(20790),E=n(29899),F=n(22513),O=n(7497),A=(0,o.Z)((function(e){return{background:{backgroundColor:e.palette.info.main,borderRadius:70,display:"flex",flexDirection:"row",justifyContent:"center",border:"1px solid black",padding:10,boxShadow:"inset 2px 2px 2px black",position:"relative"},process:{backgroundColor:"gray",opacity:.8,backgroundFilter:"blur(60)",position:"absolute",height:"100%",top:0,left:0,borderTopLeftRadius:70,borderBottomLeftRadius:70,borderTop:"2px solid black"}}})),z=function(e){var t=e.children,n=e.process,r=void 0===n?0:n,a=e.isPause,o=e.handleOnPause,i=e.handleReset,s=e.handleOnStart,c=A();return(0,j.jsxs)("div",{className:c.background,style:{background:"linear-gradient(90deg, gray ".concat(100*r,"%, #c4c4c4 ").concat(100*r,"%)")},children:[(0,j.jsx)(l.Z,{style:{fontSize:40},sx:function(e){return{color:"black",backgroundColor:"transparent","&:hover":{border:0}}},onClick:i,children:(0,j.jsx)(O.Z,{fontSize:"inherit"})}),(0,j.jsx)(l.Z,{style:{fontSize:40},sx:function(e){return{color:"black",backgroundColor:"transparent","&:hover":{border:0}}},onClick:function(){100===Math.round(100*r)&&(console.log("reset"),i()),a?s():o()},children:a?(0,j.jsx)(E.Z,{fontSize:"inherit"}):(0,j.jsx)(F.Z,{fontSize:"inherit"})}),(0,j.jsx)(l.Z,{style:{fontSize:40},sx:function(e){return{color:"black",backgroundColor:"transparent","&:hover":{border:0}}},children:t})]})},L=n(45987),V=n(6607),H=n(94724),M=n(95904),K=n(41125),G={Wrapper:"SortableItem_Wrapper__SBEoL",fadeIn:"SortableItem_fadeIn__NsV9q",dragOverlay:"SortableItem_dragOverlay__95deM",Item:"SortableItem_Item__AwMji",withHandle:"SortableItem_withHandle__Vmvq2",color:"SortableItem_color__pYNSF",dragging:"SortableItem_dragging__gfZLb",pop:"SortableItem_pop__SRMu1",Remove:"SortableItem_Remove__gmwFp",Actions:"SortableItem_Actions__2lQde"},U=n(46123),Y=n.n(U),J=["color","dragOverlay","dragging","disabled","fadeIn","handle","handleProps","height","index","listeners","onRemove","renderItem","sorting","style","transition","transform","value","wrapperStyle"],X=(0,o.Z)((function(e){return{item:{border:"2px solid black",marginBottom:15,width:"100%",minHeight:60,borderRadius:10,textShadow:"none",color:"black",display:"flex",alignItems:"center",padding:15,letterSpacing:2,overflow:"hidden",justifyContent:"space-between",flexDirection:"row",fontWeight:"bold","&:hover":{cursor:"pointer"}},icon:{fontSize:30,marginRight:20,display:"flex",alignContent:"center"}}})),$=a.memo(a.forwardRef((function(e,t){var n=e.color,r=e.dragOverlay,o=e.dragging,i=e.disabled,s=e.fadeIn,c=e.handle,d=(e.handleProps,e.height,e.index),u=e.listeners,p=(e.onRemove,e.renderItem),m=e.sorting,x=e.style,h=e.transition,f=e.transform,v=e.value,g=e.wrapperStyle,b=(0,L.Z)(e,J);(0,a.useEffect)((function(){if(r)return document.body.style.cursor="grabbing",function(){document.body.style.cursor=""}}),[r]);var y=X();return p?p({dragOverlay:r,dragging:o,sorting:m,index:d,fadeIn:s,listeners:u,ref:t,style:x,transform:f,transition:h,value:v}):(0,j.jsx)("li",{className:Y()(G.Wrapper,s&&G.fadeIn,m&&G.sorting,r&&G.dragOverlay),style:(0,W.Z)((0,W.Z)({},g),{},{transition:[h,null===g||void 0===g?void 0:g.transition].filter(Boolean).join(", "),"--translate-x":f?"".concat(Math.round(f.x),"px"):void 0,"--translate-y":f?"".concat(Math.round(f.y),"px"):void 0,"--scale-x":null!==f&&void 0!==f&&f.scaleX?"".concat(f.scaleX):void 0,"--scale-y":null!==f&&void 0!==f&&f.scaleY?"".concat(f.scaleY):void 0,"--index":d,"--color":n}),ref:t,children:(0,j.jsxs)("div",(0,W.Z)((0,W.Z)((0,W.Z)({className:Y()(y.item,G.Item,o&&G.dragging,c&&G.withHandle,r&&G.dragOverlay,i&&G.disabled,n&&G.color),style:(0,W.Z)({backgroundColor:"video"===v.type?"#EC8A17":"audio"===v.type?"#EDD502":"#DF2121"},x),"data-cypress":"draggable-item"},c?void 0:u),b),{},{tabIndex:c?void 0:0,children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",overflow:"hidden"},children:[(0,j.jsx)("div",{className:y.icon,children:"video"===v.type?(0,j.jsx)(V.Z,{fontSize:"inherit"}):"audio"===v.type?(0,j.jsx)(H.Z,{fontSize:"inherit"}):(0,j.jsx)(M.Z,{fontSize:"inherit"})}),v.name]}),(0,j.jsx)(l.Z,{children:(0,j.jsx)(K.Z,{fontSize:"medium"})})]}))})}))),ee=function(e){var t=e.disabled,n=e.id,o=e.index,i=e.handle,s=e.renderItem,l=e.style,c=e.containerId,d=e.getIndex,u=e.wrapperStyle,p=(e.dragOverlay,(0,Q.nB)({id:n})),m=p.setNodeRef,x=p.setActivatorNodeRef,h=p.listeners,f=p.isDragging,v=p.isSorting,g=p.over,b=p.overIndex,y=p.transform,C=p.transition,k=function(){var e=(0,a.useState)(!1),t=(0,r.Z)(e,2),n=t[0],o=t[1];return(0,a.useEffect)((function(){var e=setTimeout((function(){return o(!0)}),500);return function(){return clearTimeout(e)}}),[]),n}(),w=f&&!k;return(0,j.jsx)($,{ref:t?void 0:m,value:n,dragging:f,sorting:v,handle:i,handleProps:i?{ref:x}:void 0,index:o,wrapperStyle:u({index:o}),style:l({index:o,value:n,isDragging:f,isSorting:v,overIndex:g?d(g.id):b,containerId:c}),transition:C,transform:y,fadeIn:w,listeners:h,renderItem:s})},te=[_.g4.Down,_.g4.Right,_.g4.Up,_.g4.Left],ne=function(e,t){var n=t.context,r=n.active,a=n.droppableRects,o=n.droppableContainers,i=n.collisionRect;if(te.includes(e.code)){if(e.preventDefault(),!r||!i)return;var s=[];o.getEnabled().forEach((function(t){if(t&&(null===t||void 0===t||!t.disabled)){var n=a.get(t.id);if(n){var o=t.data.current;if(o){var l,c=o.type,d=o.children;if("container"===c&&(null===d||void 0===d?void 0:d.length)>0)if("container"!==(null===(l=r.data.current)||void 0===l?void 0:l.type))return}switch(e.code){case _.g4.Down:i.top<n.top&&s.push(t);break;case _.g4.Up:i.top>n.top&&s.push(t);break;case _.g4.Left:i.left>=n.left+n.width&&s.push(t);break;case _.g4.Right:i.left+i.width<=n.left&&s.push(t);break;default:console.log("Invalid ",e.code)}}}}));var l=(0,_.ey)({active:r,collisionRect:i,droppableRects:a,droppableContainers:s,pointerCoordinates:null}),c=(0,_._8)(l,"id");if(null!=c){var d,u=o.get(c),p=null===u||void 0===u?void 0:u.node.current,m=null===u||void 0===u?void 0:u.rect.current;if(p&&m)return"placeholder"===u.id?{x:m.left+(m.width-i.width)/2,y:m.top+(m.height-i.height)/2}:"container"===(null===(d=u.data.current)||void 0===d?void 0:d.type)?{x:m.left+20,y:m.top+74}:{x:m.left,y:m.top}}}},re=n(16414),ae=(0,o.Z)((function(e){return{container:{filter:"drop-shadow(1px 0px 0px black) drop-shadow(-1px 0px 0px black) drop-shadow(0px 1px 0px black) drop-shadow(0px -1px 0px black) drop-shadow(1px 1px 0px black) drop-shadow(-1px -1px 0px black) drop-shadow(-1px 1px 0px black) drop-shadow(1px -1px 0px black)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},triangle:{clipPath:"polygon(0 0, 50% 50%, 0 100%)"},blueBtn:{width:0,height:0,borderTop:"40px solid transparent",borderBottom:"40px solid transparent",borderRight:"calc(40px*2*0.866) solid #2E7D32","&:hover":{cursor:"pointer",borderRight:"calc(40px*2*0.866) solid #1b5e20"}},redBtn:{width:0,height:0,borderTop:"40px solid transparent",borderBottom:"40px solid transparent",borderLeft:"calc(40px*2*0.866) solid #D32F2F","&:hover":{cursor:"pointer",borderLeft:"calc(40px*2*0.866) solid #c62828"}}}})),oe=function(e){var t=e.setItems,n=ae();return(0,j.jsxs)("div",{className:n.container,children:[(0,j.jsx)("div",{className:n.blueBtn,onClick:function(){t((function(e){return{stack:[].concat((0,u.Z)(e.stack),(0,u.Z)(e.list)),list:[],current:e.current}}))}}),(0,j.jsx)("div",{className:n.redBtn,onClick:function(){t((function(e){return{list:[].concat((0,u.Z)(e.list),(0,u.Z)(e.stack)),stack:[],current:e.current}}))}})]})},ie=n(43492),se=n(18477),le=(0,o.Z)((function(e){return{container:{display:"grid",gridTemplateColumns:"1fr 2fr",columnGap:20,padding:"10px 0",marginTop:"3vh",marginBottom:"3vh",alignItems:"center",justifyContent:"space-between",paddingRight:60,paddingLeft:40},processing:{height:5,backgroundColor:"#000",borderRadius:3,position:"absolute",top:0,left:0,"&::after":{width:20,height:20,borderRadius:"50%",backgroundColor:"#000",content:'""',right:-10,top:-7,position:"absolute"},"&:hover":{cursor:"pointer"}},horizontal:{height:5,width:"100%",backgroundColor:"rgba(0,0,0,0.4)",borderRadius:3,position:"absolute",top:0,left:0,"&:hover":{cursor:"pointer"}},btnGroup:{marginTop:20,display:"flex",gap:20}}})),ce=function(e){var t=e.currentMedia,n=e.duration,r=e.setDuration,o=e.timer,i=e.isPause,c=e.handleOnPause,d=e.handleReset,u=e.handleOnStart,p=le();return(0,a.useEffect)((function(){if(t){var e=new Audio("".concat("/controller","/sounds/").concat(t.name));e.onerror=function(){console.log("File does not exist."),r(null)},e.onloadeddata=function(){console.log("File exists."),r(1e3*e.duration)}}}),[t]),(0,j.jsxs)("div",{className:p.container,children:[(0,j.jsx)("h1",{children:"PLAYLISTS"}),(0,j.jsxs)("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,j.jsx)("p",{style:{position:"absolute",bottom:0,right:0,transform:"translate(0,-50%)",marginBottom:10},children:(0,se.hK)((n-o)/1e3)}),(0,j.jsx)("div",{className:p.horizontal}),(0,j.jsx)("div",{className:p.processing,style:{width:"".concat(o/n*100,"%")}}),(0,j.jsxs)(s.Z,{className:p.btnGroup,size:"large",children:[(0,j.jsx)(l.Z,{style:{fontSize:40},sx:function(){return{color:"black","&:hover":{border:0}}},onClick:d,children:(0,j.jsx)(O.Z,{fontSize:"inherit"})}),(0,j.jsx)(l.Z,{style:{fontSize:40},sx:function(){return{color:"black","&:hover":{border:0}}},onClick:function(){100===Math.round(o/n*100)&&(console.log("reset"),d()),i?u():c()},children:i?(0,j.jsx)(E.Z,{fontSize:"inherit"}):(0,j.jsx)(F.Z,{fontSize:"inherit"})}),(0,j.jsx)(l.Z,{style:{fontSize:40},sx:function(e){return{color:"black","&:hover":{border:0}}},children:(0,j.jsx)(ie.Z,{fontSize:"inherit"})})]})]})]})},de=(0,o.Z)((function(e){return{container:{height:"55vh",marginBottom:"5vh",display:"flex",justifyContent:"space-around"},column:{display:"flex",flexDirection:"column",border:"5px solid black",borderRadius:30,padding:15,backgroundColor:e.palette.info.main,overflowY:"auto",minHeight:115},action:{display:"flex",border:"1px solid black",width:"10%",height:"100%"},item:{border:"2px solid black",marginBottom:15,width:"100%",minHeight:60,borderRadius:10,textShadow:"none",color:"black",display:"flex",alignItems:"center",padding:15,letterSpacing:2,overflow:"hidden",justifyContent:"space-between",flexDirection:"row",fontWeight:"bold"},icon:{fontSize:30,marginRight:20,display:"flex",alignContent:"center"}}})),ue=[].concat((0,u.Z)(["NTT_ThanhLe.mp4","NTT_FPT.mp4","CCVQpedia.mov","NTT_BK_1.mp4","NTT_BK_2.mp4","CK THPT.mp4","N\xe0ng T\xf4 th\u1ecb.mp4","NTT_Pali.mp4","NTT_ThuyPhuc.mp4","TRAILER CK THCS.mp4","TRAILER CK THPT.mp4","[Thai Bao] Trailer.mp4","[Cat Long] Trailer.mp4","[Phuc Kien] Trailer.mp4","[Thanh Luan] Trailer.mp4","Trailer_full_players_THPT.mov","Trailer_full_players_THCS.mp4","Tong ket CTC.mp4","Tong ket MDTC.mov","Tong ket TCTT.mp4","Tong ket TPCN.mov","Kh\xe1n gi\u1ea3_H\xe0n_CMSN.mp4","Kh\xe1n gi\u1ea3_H\xe0n_Oscar.mp4","Kh\xe1n gi\u1ea3-Eng.mp4","Kh\xe1n gi\u1ea3_H\xe0n_qu\u1ed1c k\u1ef3.mp4","Kh\xe1n gi\u1ea3-Eng-THCS.mp4","Kh\xe1n gi\u1ea3-H\xe0n_THCS_Seoul.mp4"].map((function(e){return{type:"video",name:e}}))),(0,u.Z)(["3107.mp4","dAi \u0111\u01b0a em v\u1ec1 n\u1ebfu m\u1ed9t ng\xe0y ch\xfang ta kh\xf4ng c\xf2n g\u1eb7p.mp4","B\u1ea1n.mp4","CH\xdaNG TA C\u1ee6A HI\u1ec6N T\u1ea0I.mp4","H\u1ecd Y\xeau Ai M\u1ea5t R\u1ed3i.mp4","MU\u1ed8N R\u1ed2I M\xc0 SAO C\xd2N.mp4","M\xe3i M\xe3i Kh\xf4ng Ph\u1ea3i Anh.mp4","Ng\u01b0\u1eddi Ta Th\xe0nh \u0110\xf4i H\u1ebft R\u1ed3i.mp4","PH\u1ed0 \u0110\xc3 L\xcaN \u0110\xc8N.mp4","The Playah.mp4","Anh \u0110\xe3 Quen V\u1edbi C\xf4 \u0110\u01a1n.mp4","\u0110\u01b0\u1eddng T\xf4i Ch\u1edf Em V\u1ec1.mp4","HHChallenge.mp3","Sound_\xf4_tr\u1ed1ng_O9.mp3","chuc-mung-chien-thang.mp3","hoi-hop.mp3","tieng-vo-tay-PewPew.mp3","H\u1ea3o h\xe1n Ph\xfa L\xea.mp4","Bai-hat-Ai-khoc-noi-dau-nay-remix.mp3","Nhac-chuong-Danh-mat-em-remix-TikTok.mp3","Nhac-gioi-thieu-dai-bieu.mp3","Nhac-trao-bang-khen-trao-giai-thuong.mp3","so-xo-kien-thiet-mien-bac.mp3","Wait a minute meme.mp3","lumination.mp3","SongTHPT.mp4","SongTHCS.mp3"].map((function(e){return{type:"audio",name:e}}))),(0,u.Z)(["Campus1.jpg","Campus2.jpg","Campus3.jpg","Campus4.jpg","Campus5.jpg","Campus6.jpg","Campus7.jpg","Campus8.jpg","Pali1.jpg","Pali2.jpg","Pali3.jpg","Th\u1ee7y Ph\xfac 1.jpg","Th\u1ee7y Ph\xfac 2.jpg","Th\u1ee7y Ph\xfac 3.jpg","Th\u1ee7y Ph\xfac 4.jpg"].map((function(e){return{type:"image",name:e}})))).map((function(e){return{value:e,sort:Math.random()}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value})),pe="void",me=function(e){return(0,Q.cP)((0,W.Z)((0,W.Z)({},e),{},{wasDragging:!0}))},xe=function(e){var t=e.children,n=(e.columns,e.disabled),r=e.id,a=e.items,o=e.style,i=e.shadow,s=(0,Q.nB)({id:r,data:{type:"container",children:a},animateLayoutChanges:me,disabled:n}),l=s.isDragging,c=s.setNodeRef,d=s.transition,u=s.transform,p=de();return(0,j.jsx)("div",{ref:n?void 0:c,style:(0,W.Z)((0,W.Z)({},o),{},{transition:d,transform:P.ux.Translate.toString(u),opacity:l?.5:void 0,boxShadow:i?"0 1px 10px 0 rgba(34, 33, 81, 0.1)":"none",width:"list"===r?"40%":"100%",overflow:"current"===r?"visible":"scroll",height:"stack"===r?"100%":"auto"}),className:p.column,children:t})},he=function(e){var t=e.id,n=e.items,r=e.strategy,a=e.isSortingContainer,o=e.getIndex,i=e.disabled;return(0,j.jsx)(xe,{id:t,items:n.list,disabled:i,children:(0,j.jsx)(Q.Fo,{items:n[t],strategy:r,children:n[t].map((function(e,n){return(0,j.jsx)(ee,{disabled:a,id:e,index:n,handle:!1,style:function(){return"current"===t?{marginBottom:0}:{}},wrapperStyle:function(){},renderItem:void 0,containerId:t,getIndex:o},n)}))})})},fe={sideEffects:(0,_.Ai)({styles:{active:{opacity:"0.5"}}})},ve=function(e){var t=e.coordinateGetter,n=void 0===t?ne:t,o=e.strategy,i=void 0===o?Q.qw:o,s=de(),l=(0,a.useState)(!1),c=(0,r.Z)(l,2),d=c[0],p=c[1],m=(0,a.useState)({current:[],stack:[],list:ue}),x=(0,r.Z)(m,2),h=x[0],f=x[1],v=(0,a.useState)(Object.keys(h)),g=(0,r.Z)(v,2),b=g[0],y=g[1],C=(0,a.useState)(null),w=(0,r.Z)(C,2),Z=w[0],N=w[1],S=(0,a.useState)(null),T=(0,r.Z)(S,2),R=T[0],I=T[1],P=(0,a.useRef)(null),E=(0,a.useRef)(!1),F=!!R&&b.includes(R),O=(0,_.Dy)((0,_.VT)(_.MA),(0,_.VT)(_.LO),(0,_.VT)(_.Lg,{coordinateGetter:n})),A=(0,a.useCallback)((function(e){if(R&&R in h)return(0,_.pE)((0,W.Z)((0,W.Z)({},e),{},{droppableContainers:e.droppableContainers.filter((function(e){return e.id in h}))}));var t=(0,_.j2)(e),n=t.length>0?t:(0,_.Xo)(e),r=(0,_._8)(n,"id");if(null!=r){if(r in h){var a,o=h[r];if(o.length>0)r=null===(a=(0,_.pE)((0,W.Z)((0,W.Z)({},e),{},{droppableContainers:e.droppableContainers.filter((function(e){return e.id!==r&&o.includes(e.id)}))}))[0])||void 0===a?void 0:a.id}return P.current=r,[{id:r}]}return E.current&&(P.current=R),P.current?[{id:P.current}]:[]}),[R,h]),L=function(e){if(e in h)return e;var t=void 0;return Object.keys(h).forEach((function(n){h[n.toString()].forEach((function(r){r.type===e.type&&r.name===e.name&&(t=n.toString())}))})),t},V=function(e){var t=L(e);return t?h[t].indexOf(e):-1};var H,M,K=(0,re.z)(),G=K.duration,U=K.setDuration,Y=K.timer,J=K.isPause,X=K.handleOnPause,ee=K.handleReset,te=K.handleOnStart;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(z,{process:Y/G,isPause:J,handleOnPause:X,handleReset:ee,handleOnStart:te,children:(0,j.jsx)(D.Z,{fontSize:"inherit",onClick:function(){return p(!0)}})}),(0,j.jsxs)(k,{show:d,onClose:function(){p(!1)},onSubmit:function(){},type:"large",id:"modal-media-controller",children:[(0,j.jsx)(ce,{currentMedia:h.current[0],duration:G,setDuration:U,timer:Y,isPause:J,handleOnPause:X,handleReset:ee,handleOnStart:te}),(0,j.jsx)("div",{className:s.container,children:(0,j.jsxs)(_.LB,{sensors:O,collisionDetection:A,measuring:{droppable:{strategy:_.uN.Always}},onDragStart:function(e){var t=e.active;I(t.id),N(h)},onDragOver:function(e){var t=e.active,n=e.over,r=null===n||void 0===n?void 0:n.id;if(null!=r&&r!==pe&&!(t.id in h)){var a=L(r),o=L(t.id);if(a&&o&&o!==a){if("current"===a&&h.current.length>0){var i=h[o].indexOf(t.id);return void f("stack"===o?function(e){var n=e.stack;return n=n.filter((function(e){return e!==t.id})),n=[].concat((0,u.Z)(e.current),(0,u.Z)(n)),(0,W.Z)((0,W.Z)({},e),{},{current:[h[o][i]],stack:n})}:function(e){return(0,W.Z)((0,W.Z)({},e),{},(0,B.Z)({current:[h[o][i]],stack:[].concat((0,u.Z)(e.current),(0,u.Z)(e.stack))},o,h[o].filter((function(e){return e!==t.id}))))})}f((function(e){var i,s,l=e[o],c=e[a],d=c.indexOf(r),p=l.indexOf(t.id);if(r in e)s=c.length+1;else{var m=n&&t.rect.current.translated&&t.rect.current.translated.top>n.rect.top+n.rect.height;s=d>=0?d+(m?1:0):c.length+1}return E.current=!0,(0,W.Z)((0,W.Z)({},e),{},(i={},(0,B.Z)(i,o,e[o].filter((function(e){return e!==t.id}))),(0,B.Z)(i,a,[].concat((0,u.Z)(e[a].slice(0,s)),[e[o][p]],(0,u.Z)(e[a].slice(s,e[a].length)))),i))}))}}},onDragEnd:function(e){var t=e.active,n=e.over;t.id in h&&null!==n&&void 0!==n&&n.id&&y((function(e){var r=e.indexOf(t.id),a=e.indexOf(n.id);return(0,Q.Rp)(e,r,a)}));var r=L(t.id);if(r){var a=null===n||void 0===n?void 0:n.id;if(null!=a){if(a===pe)return f((function(e){return(0,W.Z)((0,W.Z)({},e),{},(0,B.Z)({},r,e[r].filter((function(e){return e!==R}))))})),void I(null);if("placeholder"!==a){var o=L(a);if(o){var i=h[r].indexOf(t.id),s=h[o].indexOf(a);i!==s&&f((function(e){return(0,W.Z)((0,W.Z)({},e),{},(0,B.Z)({},o,(0,Q.Rp)(e[o],i,s)))}))}I(null)}else{var l=function(){var e=Object.keys(h),t=e[e.length-1];return String.fromCharCode(t.charCodeAt(0)+1)}();(0,q.unstable_batchedUpdates)((function(){y((function(e){return[].concat((0,u.Z)(e),[l])})),f((function(e){var n;return(0,W.Z)((0,W.Z)({},e),{},(n={},(0,B.Z)(n,r,e[r].filter((function(e){return e!==R}))),(0,B.Z)(n,l,[t.id]),n))})),I(null)}))}}else I(null)}else I(null)},onDragCancel:function(){Z&&f(Z),I(null),N(null)},children:[(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"40%",gap:20,height:"100%"},children:[(0,j.jsx)(he,{id:"current",items:h,strategy:i,isSortingContainer:F,getIndex:V,disabled:h.current.length>0}),(0,j.jsx)(he,{id:"stack",items:h,strategy:i,isSortingContainer:F,getIndex:V})]}),(0,j.jsx)(oe,{setItems:f}),(0,j.jsx)(he,{id:"list",items:h,strategy:i,isSortingContainer:F,getIndex:V}),(0,q.createPortal)((0,j.jsx)(_.y9,{dropAnimation:fe,style:{zIndex:9999},children:R?b.includes(R)?(M=R,(0,j.jsx)(xe,{shadow:!0,children:h[M].map((function(e){return(0,j.jsx)($,{value:e},e)}))})):(H=R,(0,j.jsx)($,{value:H,dragOverlay:!0})):null}),document.body)]})})]})]})},ge=n(68384),be=n(20372),ye=n(4689),je=n(3685),Ce=(0,o.Z)((function(e){return{icon:{width:80,height:80,backgroundColor:e.palette.info.main,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:24,border:"1px solid black",boxShadow:"inset 1px 1px 1px black"}}})),ke=function(){var e=Ce(),t=(0,a.useState)(!1),n=(0,r.Z)(t,2),o=n[0],s=n[1],c=(0,a.useState)(!1),d=(0,r.Z)(c,2),u=d[0],p=d[1],m=(0,a.useContext)(w.T).action;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.Z,{className:e.icon,style:{fontSize:45},sx:function(e){return{color:"black",backgroundColor:e.palette.info.main,border:"1px solid black","&:hover":{backgroundColor:e.palette[o?"success":"danger"].main,border:0,color:e.palette.info.main}}},onClick:function(){s(!o),i.W.emit("controller:talk",{receivers:["client"],eventName:"ccvq:answerBoxStatus",data:{status:o?"block":"open"}})},children:o?(0,j.jsx)(je.Z,{fontSize:"inherit",htmlColor:"inherit"}):(0,j.jsx)(ge.Z,{fontSize:"inherit",htmlColor:"inherit"})}),(0,j.jsx)(l.Z,{className:e.icon,style:{fontSize:45},sx:function(e){return{color:"black",border:"1px solid black",backgroundColor:e.palette.info.main,"&:hover":{backgroundColor:e.palette[u?"success":"danger"].main,border:0,color:e.palette.info.main}}},onClick:function(){p(!u),u||(m.resetAllBells(!0),i.W.emit("controller:talk",{receivers:["client","controller","mc","viewer","livestream"],eventName:"ccvq:timeState",data:{status:"start"}})),i.W.emit("controller:talk",{receivers:["client","controller","mc","viewer","livestream"],eventName:"ccvq:bellStatus",data:{status:u?"block":"open"}})},children:u?(0,j.jsx)(be.Z,{fontSize:"inherit",htmlColor:"inherit"}):(0,j.jsx)(ye.Z,{fontSize:"inherit",htmlColor:"inherit"})})]})},we=n(69235),Ze=n(99608),Ne=(0,o.Z)((function(e){return{container:{display:"flex",flexDirection:"row",gap:"1rem",paddingLeft:"1rem",paddingRight:"1rem",borderRight:"5px solid ".concat(e.palette.info.main),borderLeft:"5px solid ".concat(e.palette.info.main)},icon:{width:80,height:80,backgroundColor:e.palette.info.main,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:24,border:"1px solid black",boxShadow:"inset 1px 1px 1px black","&:hover":{cursor:"pointer"}},amount:{width:25,height:25,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.info.main,border:"1px solid black",paddingRight:10,borderTopRightRadius:5,borderBottomRightRadius:5,"&::before":{height:23,content:'""',width:10,position:"absolute",backgroundColor:e.palette.info.main,top:0,left:-10}}}})),Se=function(){var e=Ne(),t=(0,a.useContext)(w.T),n=t.state,o=t.action,s=(0,a.useState)(10),c=(0,r.Z)(s,2),d=c[0],u=c[1],p=(0,a.useState)(1),m=(0,r.Z)(p,2),x=m[0],h=m[1],f=(0,a.useState)(null),v=(0,r.Z)(f,2),g=v[0],b=v[1];return(0,j.jsxs)("div",{className:e.container,children:[n.players.map((function(t){return(0,j.jsx)("div",{className:e.icon,onClick:(r=t.order,function(){o.setEachPlayerScore(r,x*d),b(r),i.W.emit("controller:talk",{receivers:["mc","client","viewer","livestream","scoreboard"],eventName:"ccvq:updateScore",data:{name:n.players[r-1].name,order:r,score:x*d}}),i.W.emit("ccvq:updateScore",{order:r,score:x*d})}),style:{fontWeight:t.order===g?"bold":"normal",fontSize:t.order===g?32:24},children:t.score},t.order);var r})),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",height:"fit-content"},children:[(0,j.jsx)(l.Z,{className:e.icon,style:{fontSize:45},sx:function(e){return{color:"black",backgroundColor:e.palette.info.main,border:"1px solid black","&:hover":{backgroundColor:e.palette.info.main,border:0,color:x>0?e.palette.success.main:e.palette.danger.main}}},onClick:function(){h((function(e){return-1*e}))},onWheel:function(e){e.deltaY<0?u((function(e){return e+5})):u((function(e){return 0===e?0:e-5}))},children:x>0?(0,j.jsx)(we.Z,{fontSize:"inherit",htmlColor:"inherit"}):(0,j.jsx)(Ze.Z,{fontSize:"inherit",htmlColor:"inherit"})}),(0,j.jsx)("div",{className:e.amount,onWheel:function(e){e.deltaY<0?u((function(e){return e+5})):u((function(e){return 0===e?0:e-5}))},children:d})]})]})},Te=n(8047),Re=n(4737),Ie=(0,o.Z)((function(e){return{container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",paddingTop:"2vh",paddingBottom:"3vh"},btnGroup:{display:"flex",gap:20}}})),Be=function(){var e=Ie(),t=(0,a.useState)(!1),n=(0,r.Z)(t,2),o=n[0],c=n[1],d=(0,a.useState)(),u=(0,r.Z)(d,2),p=u[0],m=u[1],x=(0,re.z)({isTimer:!0,step:100}),h=x.duration,f=x.setDuration,v=x.timer,g=x.isPause,y=x.handleOnPause,C=x.handleReset,w=x.handleOnStart,Z=function(e){w(e.target.id),i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","client"],eventName:"ccvq:setTime",data:{seconds:e.target.id}})};return(0,a.useEffect)((function(){return i.W.on("ccvq:setTime",(function(e){f(1e3*e.seconds),C()})),i.W.on("ccvq:timeState",(function(e){"pause"===e.status?y():"start"===e.status?w():"reset"===e.status?C():console.log(e.status)})),function(){i.W.off("ccvq:setTime"),i.W.off("ccvq:timeState")}}),[]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(z,{process:v/h,isPause:g,handleOnPause:y,handleReset:C,handleOnStart:w,children:(0,j.jsx)(Re.Z,{fontSize:"inherit",onClick:function(){return c(!0)}})}),(0,j.jsxs)(k,{show:o,onClose:function(){c(!1)},onSubmit:function(){},type:"medium",id:"modal-time-controller",children:[(0,j.jsx)("h1",{children:"Timer"}),(0,j.jsxs)("div",{className:e.container,children:[(0,j.jsx)("h1",{style:{fontSize:100},children:(0,se.hK)((h-v)/1e3)}),(0,j.jsxs)(s.Z,{className:e.btnGroup,size:"large",children:[(0,j.jsx)(l.Z,{style:{fontSize:60},sx:function(){return{color:"black","&:hover":{border:0}}},onClick:C,children:(0,j.jsx)(O.Z,{fontSize:"inherit"})}),(0,j.jsx)(l.Z,{style:{fontSize:60},sx:function(){return{color:"black","&:hover":{border:0}}},onClick:function(){100===Math.round(v/h*100)&&(console.log("reset"),C()),g?w():y()},children:g?(0,j.jsx)(E.Z,{fontSize:"inherit"}):(0,j.jsx)(F.Z,{fontSize:"inherit"})}),(0,j.jsx)(l.Z,{style:{fontSize:60},sx:function(){return{color:"black","&:hover":{border:0}}},children:(0,j.jsx)(ie.Z,{fontSize:"inherit"})})]}),(0,j.jsx)("div",{style:{padding:"15px 20px",border:"3px solid black",borderRadius:20,backgroundColor:"#c4c4c4",marginBottom:10},tabIndex:1,onKeyDown:function(e){13===e.keyCode&&p>0&&f(1e3*p),w()},children:(0,j.jsx)(Te.Z,{sx:{backgroundColor:"#c4c4c4",borderRadius:1,border:"1px solid black"},value:p,onChange:function(e){return m(e.target.value)}})}),(0,j.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"space-around"},children:[{value:5,color:"#EDD502"},{value:10,color:"#EC8A17"},{value:15,color:"#DF2121"},{value:20,color:"#6B1C1C"},{value:30,color:"#000000"}].map((function(e){return(0,j.jsxs)(b.Z,{id:e.value,sx:{backgroundColor:e.color,borderRadius:5,border:"2px solid black",height:60,width:50,fontWeight:"bold",color:"#f9f9f9",fontSize:20},onClick:Z,children:["+ ",e.value]},e.value)}))})]})]})]})},We=n(3437),qe=n(39496),De=n(78887),_e=(0,o.Z)((function(e){return{container:{backgroundColor:e.palette.info.main,borderRadius:70,border:"1px solid black",padding:10,boxShadow:"inset 2px 2px 2px black",display:"flex",flexDirection:"row",alignItems:"center",width:280,gap:10,paddingRight:25}}})),Qe=function(){var e=_e(),t=(0,a.useState)(75),n=(0,r.Z)(t,2),o=n[0],s=n[1],c=(0,a.useState)(!1),d=(0,r.Z)(c,2),u=d[0],p=d[1];return(0,a.useEffect)((function(){s(u?0:75)}),[u]),(0,a.useEffect)((function(){i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"ccvq:changeVolume",data:{volume:o}})}),[o]),(0,j.jsxs)("div",{className:e.container,children:[(0,j.jsx)(l.Z,{style:{fontSize:30},sx:function(e){return{color:"black",backgroundColor:e.palette.info.main,"&:hover":{backgroundColor:e.palette.info.main,border:0}}},onClick:function(){p(!u)},children:u?(0,j.jsx)(qe.Z,{fontSize:"inherit",htmlColor:"inherit"}):(0,j.jsx)(We.Z,{fontSize:"inherit",htmlColor:"inherit"})}),(0,j.jsx)(De.ZP,{"aria-label":"Volume",defaultValue:30,value:o,sx:function(e){return{color:"dark"===e.palette.mode?"#fff":"rgba(0,0,0,0.87)","& .MuiSlider-track":{border:"none"},"& .MuiSlider-thumb":{width:24,height:24,backgroundColor:"#fff","&:before":{boxShadow:"0 4px 8px rgba(0,0,0,0.4)"},"&:hover, &.Mui-focusVisible, &.Mui-active":{boxShadow:"none"}}}},onChange:function(e){return s(e.target.value)}})]})},Pe=(0,o.Z)((function(e){return{container:{display:"flex",height:"fit-content",position:"fixed",bottom:0,left:0,padding:"1rem",width:"100%"},action:{backgroundColor:e.palette.secondary.main,padding:10,paddingLeft:15,paddingRight:15,borderRadius:45,display:"flex",flexDirection:"row",gap:15,alignContent:"center",marginRight:"2rem",height:"fit-content",maxWidth:"80vw",overflow:"scroll",border:"1px solid black",boxShadow:"5px 5px 5px black"},name:{backgroundColor:e.palette.secondary.main,padding:30,paddingTop:20,paddingBottom:20,width:"15%",height:100,borderTopLeftRadius:45,borderTopRightRadius:45,border:"1px solid black",borderBottom:"5px solid black"},title:{backgroundColor:e.palette.info.main,height:"100%",borderRadius:20,display:"flex",justifyContent:"center",alignItems:"center",fontSize:20,fontWeight:"bold",border:"1px solid black",boxShadow:"inset 5px 5px 5px black"}}})),Ee=function(e){var t=Pe(),n=e.openController,r=e.gameShown,o=e.handleSyncData,u=e.handleNextRound,p=e.handlePreviousRound;return(0,a.useEffect)((function(){return i.W.on("ccvq:catchEvent",(function(e){console.log(e)})),function(){i.W.off("ccvq:catchEvent")}}),[]),(0,j.jsxs)("div",{className:t.container,children:[(0,j.jsx)(I,{openController:n,roundName:r}),(0,j.jsxs)("div",{className:t.action,children:[(0,j.jsx)(ve,{}),(0,j.jsx)(Qe,{}),(0,j.jsx)(Se,{}),(0,j.jsx)(ke,{}),(0,j.jsx)(Be,{})]}),(0,j.jsx)("div",{className:t.name,children:(0,j.jsx)("div",{className:t.title,children:(0,j.jsxs)(s.Z,{style:{justifyContent:"space-around",width:"100%"},children:[(0,j.jsx)(l.Z,{"aria-label":"next_round",onClick:p,children:(0,j.jsx)(c.Z,{fontSize:"inherit"})}),(0,j.jsx)(l.Z,{"aria-label":"sync",onClick:o,children:r}),(0,j.jsx)(l.Z,{"aria-label":"next_round",onClick:u,children:(0,j.jsx)(d.Z,{fontSize:"inherit"})})]})})})]})},Fe=n(74165),Oe=n(15861),Ae=n(69173),ze=n(67426),Le=n(49969),Ve=n(44623),He=n(39338),Me=n(36186),Ke=n(50494),Ge=(0,o.Z)((function(e){return{header:{},details:{display:"flex",flexDirection:"column",border:"1px solid black",borderRadius:"10px",width:"100%"},detail:{padding:"10px"},type:{width:"fit-content",marginRight:"5px",borderRadius:"10px",border:"3px solid black",boxShadow:"1px 1px 1px black",padding:"10px 5px",backgroundColor:"green",color:"white"},topic:{width:"100%",marginRight:"10px",borderRadius:"10px",border:"3px solid black",boxShadow:"1px 1px 1px black",padding:"10px 5px",textAlign:"center",overflow:"visible",backgroundColor:e.palette.tertiary.main,fontWeight:"bold"},id:{minWidth:"fit-content",marginRight:"10px",borderRadius:"10px",border:"3px solid black",boxShadow:"1px 1px 1px black",padding:"10px 5px",textAlign:"center",overflow:"visible",backgroundColor:"red",color:"white"},summaryPanel:{display:"flex",width:"100%",justifyContent:"space-between"}}})),Ue=function(e){var t=e.data,n=e.id,o=Ge(),i=(0,a.useState)(!1),s=(0,r.Z)(i,2),l=s[0],c=s[1];return(0,j.jsxs)(Ve.Z,{xpanded:l,onClick:function(){c((function(e){return!e}))},style:{height:"fit-content",borderRadius:"10px",margin:"0 25% 4% 5%",width:"90%"},children:[(0,j.jsx)(He.Z,{expandIcon:(0,j.jsx)(Ke.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,j.jsxs)("div",{className:o.summaryPanel,children:[(0,j.jsx)("div",{className:o.id,children:"C\xe2u h\u1ecfi s\u1ed1 ".concat(n)}),(0,j.jsx)("div",{className:o.topic,children:t.topic}),(0,j.jsx)("div",{className:o.type,children:t.type})]})}),(0,j.jsx)(Me.Z,{children:(0,j.jsxs)("div",{className:o.details,children:[(0,j.jsx)(h.Z,{className:o.detail,children:t.question}),(0,j.jsxs)(h.Z,{className:o.detail,style:{fontWeight:"bold",borderTop:"1px solid black"},children:["\u0110\xc1P \xc1N: ",t.ans]}),t.url&&(0,j.jsxs)(h.Z,{className:o.detail,color:"primary",children:["URL: ",t.url]})]})})]})},Ye=n(54299),Je=n(13404),Xe=(0,o.Z)((function(){return{radioButtonSuccess:{padding:"5px",height:"30px",borderRadius:"5px","&:hover ":{backgroundColor:"gray"},"&:active":{backgroundColor:"green"}},radioButtonFail:{padding:"5px",height:"30px",borderRadius:"5px","&:hover ":{backgroundColor:"gray"},"&:active":{backgroundColor:"red"}}}})),$e=function(e){var t=e.player,n=e.id,r=e.handleChangeAnswer,a=e.handleChangeStatus,o=e.fixAns,i=Xe();return(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,j.jsx)(Te.Z,{style:{flexGrow:5},disabled:!o,label:"\u0110\xe1p \xe1n th\xed sinh "+t.name,variant:"filled",value:t.answer,onChange:r(n)}),(0,j.jsxs)(Ye.Z,{style:{flexGrow:1,display:"flex",justifyContent:"space-around",alignItems:"center"},row:!0,"aria-label":"checker",name:"row-radio-buttons-group",value:t.status,onChange:a(n),children:[(0,j.jsx)(Ae.Z,{className:i.radioButtonSuccess,value:"correct",control:(0,j.jsx)(Je.Z,{style:{color:"green"}}),label:"\u0110\xfang"}),(0,j.jsx)(Ae.Z,{className:i.radioButtonFail,value:"incorrect",control:(0,j.jsx)(Je.Z,{style:{color:"red"}}),label:"Sai"})]})]})},et=n(27474),tt=n(76104),nt=(0,o.Z)((function(e){return{displayPlay:{width:"100%",height:"100%",display:"grid",gridTemplateColumns:"1fr 2fr",columnGap:"2%"},row:{overflowY:"scroll",width:"100%",height:"100%",display:"grid",gridTemplateRows:"2fr 1fr",rowGap:"2%"}}})),rt=function(e){var t=e.data,n=e.question,o=nt(),s=(0,a.useContext)(w.T).state,c=(0,a.useState)(!1),d=(0,r.Z)(c,2),p=d[0],m=d[1],x=(0,a.useState)(!1),h=(0,r.Z)(x,2),f=h[0],v=h[1],g=(0,a.useState)(!0),y=(0,r.Z)(g,2),C=y[0],k=y[1],Z=(0,a.useState)(s.players.filter((function(e){return e.score===Math.max.apply(Math,(0,u.Z)(s.players.map((function(e){return e.score}))))})).map((function(e){return{name:e.name,order:e.order,answer:"",status:""}}))),N=(0,r.Z)(Z,2),S=N[0],T=N[1];console.log(s.players),a.useEffect((function(){T(s.players.filter((function(e){return e.score===Math.max.apply(Math,(0,u.Z)(s.players.map((function(e){return e.score}))))})).map((function(e){return{name:e.name,order:e.order,answer:"",status:""}})))}),[s.players]);var R=(0,a.useState)(0),I=(0,r.Z)(R,2),B=(I[0],I[1]),q=function(){return B(Math.random())},D=function(e){return function(t){var n=S;n[e].answer=t.target.value.toUpperCase(),T(n),q()}},_=function(e){return function(t){var n=S;n[e].status=t.target.value,T(n),q()}};return a.useEffect((function(){return i.W.on("ccvq:timeState",(function(e){"start"===e.status&&k(!1),"timeout"===e.status&&k(!0)})),i.W.on("ccvq:send_ans",(function(e){var t=(0,u.Z)(S);t.find((function(t){return t.order===e.order})).answer=e.answer,T(t),q()})),function(){i.W.off("ccvq:timeState")}}),[]),(0,j.jsxs)("div",{className:o.displayPlay,children:[(0,j.jsx)("div",{style:{overflowY:"scroll"},children:t.map((function(e){return(0,j.jsx)(Ue,{data:e.data,id:e.id},e.id)}))}),(0,j.jsxs)("div",{className:o.row,children:[(0,j.jsxs)("div",{children:[S.map((function(e,t){return(0,j.jsx)($e,{player:e,id:t,handleChangeAnswer:D,handleChangeStatus:_,fixAns:p},t)})),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,j.jsx)(l.Z,{className:o.infoIcon,onClick:function(){return m(!p)},children:(0,j.jsx)(et.Z,{})}),(0,j.jsx)(b.Z,{style:{margin:"1rem 4rem",marginBottom:".5rem"},className:o.similarButton,variant:"contained",color:"tertiary",onClick:function(){v(!1);var e=(0,u.Z)(S);e.forEach((function(e){e.answer="",e.status=""})),T(e),i.W.emit("controller:talk",{receivers:["viewer","livestream","controller","mc","client"],eventName:"ccvq:setTime",data:{seconds:15}}),i.W.emit("controller:talk",{receivers:["viewer","livestream","controller","mc","client"],eventName:"ccvq:timeState",data:{status:"start"}}),"video"===t[n].data.type&&i.W.emit("controller:talk",{receivers:["viewer","livestream","controller"],eventName:"ccvq:startVideo",data:{}})},disabled:!C,children:"T\xednh gi\u1edd"}),(0,j.jsx)(b.Z,{style:{margin:"1rem 4rem",marginBottom:".5rem"},className:o.similarButton,variant:"contained",color:"tertiary",onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"ccvq:show_all_players_ans",data:{players:!0===f?S.map((function(e){return(0,W.Z)({},e)})):S.map((function(e){return(0,W.Z)((0,W.Z)({},e),{},{status:"null"})}))}}),i.W.emit("controller:talk",{receivers:["mc"],eventName:"ccvq:show_all_players_ans",data:{players:S.map((function(e){return(0,W.Z)((0,W.Z)({},e),{},{name:s.players[e.id].name})}))}})},children:"Hi\u1ec7n c\xe2u tr\u1ea3 l\u1eddi"}),(0,j.jsx)(Ae.Z,{className:o.switch,control:(0,j.jsx)(ze.Z,{style:{color:"#FFB927"}}),label:"Ch\u1ea5m",checked:f,onChange:function(){return v(!f)}}),(0,j.jsx)(l.Z,{className:o.infoIcon,style:{marginLeft:"-3rem"},onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"tt:sound",data:{name:S.map((function(e){return e.status})).includes("correct")?"RightAnswer":"WrongAnswer"}})},children:(0,j.jsx)(tt.Z,{})})]})]}),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,j.jsx)("div",{style:{width:"100%"},children:s.players.filter((function(e){return e.score===Math.max.apply(Math,(0,u.Z)(s.players.map((function(e){return e.score}))))})).map((function(e){return(0,j.jsx)(at,{player:e,data:t})}))}),(0,j.jsx)("div",{style:{minWidth:"300px"},children:(0,j.jsx)(b.Z,{variant:"contained",color:"tertiary",children:"Show ranking"})})]})]})]})},at=function(e){var t=e.player,n=e.data;return(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:t.name}),n.map((function(){return(0,j.jsx)(ot,{})}))]})},ot=function(){var e=a.useState(!1),t=(0,r.Z)(e,2),n=t[0],o=t[1];return(0,j.jsx)(Le.Z,{style:{color:n?"green":"red"},checked:n,onChange:function(e){return o(!n)}})},it=n(86584),st=n(30183),lt=n(8586),ct=(0,o.Z)((function(e){return{formControlPlay:{width:"100%",display:"grid",gridTemplateColumns:"20% 75%"},chooseQues:{display:"flex",flexDirection:"column",alignItems:"center"},inputQuestion:{width:"70%",backgroundColor:e.palette.background.main,borderRadius:"5px",border:"1px solid black",boxShadow:"1px 1px 1px #000000"},endButton:{margin:"1% 5%",fontWeight:"bold",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000","&:hover":{backgroundColor:e.palette.error.main,color:e.palette.secondary.contrastText}},sendQuestionBtn:{width:"50%",marginTop:"30px",fontWeight:"bold",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000","&:hover":{backgroundColor:e.palette.error.main,color:e.palette.secondary.contrastText}},trueBtn:{backgroundColor:e.palette.success.main,color:"white","&:hover":{color:e.palette.success.main,backgroundColor:"green"},border:"1px solid black",boxShadow:"2px 2px 2px #000000"},falseBtn:{backgroundColor:e.palette.error.main,color:"white","&:hover":{color:e.palette.error.main,backgroundColor:"darkred"},border:"1px solid black",boxShadow:"2px 2px 2px #000000"},starBtn:{color:e.palette.tertiary.main,backgroundColor:e.palette.secondary.main,"&:hover":{color:"white",backgroundColor:e.palette.tertiary.main},border:"1px solid black",boxShadow:"2px 2px 2px #000000"},countDownButton:{fontWeight:"bold",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"2px 2px 2px #000000","&:hover":{backgroundColor:e.palette.success.main,color:e.palette.secondary.contrastText},padding:"0 30px"}}})),dt=function(e){var t=e.data,n=e.setQuestion,o=ct(),s=(0,a.useState)(1),c=(0,r.Z)(s,2),d=c[0],u=c[1],p=function(e){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"CHP:result_question",data:{id:t[d-1].id,status:e}})};return(0,j.jsxs)("div",{className:o.formControlPlay,children:[(0,j.jsxs)("div",{className:o.chooseQues,children:[(0,j.jsx)(m.Z,{className:o.formSelect,title:"Ch\u1ecdn b\u1ed9 \u0111\u1ec1",id:"form_control",type:"select",value:d,onChange:function(e){n(e.target.value),u(e.target.value)},variant:"outlined",children:t.map((function(e,t){return(0,j.jsx)(x.Z,{value:e.id,className:o.menuItem,children:(0,j.jsxs)(h.Z,{variant:"h6",color:"primary",children:["C\xe2u h\u1ecfi s\u1ed1 ",e.id," (",e.score," \u0111i\u1ec3m)"]})},t)}))}),(0,j.jsx)(b.Z,{className:o.sendQuestionBtn,onClick:function(){i.W.emit("controller:talk",{receivers:["mc"],eventName:"ccvq:sendQuestion_mc",data:{question:t[d-1].data,id:t[d-1].id}}),i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"CHP:sendQuestion",data:{question:(0,W.Z)((0,W.Z)({},t[d-1].data),{},{ans:null,id:t[d-1].id})}})},children:"G\u1eedi c\xe2u h\u1ecfi"})]}),(0,j.jsxs)("div",{style:{width:"100%",height:"100%"},children:[(0,j.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"20px",marginTop:"5px"},children:[(0,j.jsx)(Te.Z,{className:o.inputQuestion,value:-1===d?"Ch\u01b0a ch\u1ecdn c\xe2u h\u1ecfi":t[d-1].data.question,variant:"outlined",inputProps:{style:{marginLeft:"5px"}},disabled:!0}),(0,j.jsx)(b.Z,{className:o.endButton,onClick:function(){},children:"K\u1ebft th\xfac"})]}),(0,j.jsxs)("div",{style:{marginTop:"30px",display:"flex",justifyContent:"space-around"},children:[(0,j.jsx)(l.Z,{className:o.starBtn,onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"CHP:hopeStar",data:{id:t.id,status:!0}})},children:(0,j.jsx)(it.Z,{})}),(0,j.jsx)(b.Z,{className:o.countDownButton,onClick:function(){var e=t[d].time||15;i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","controller"],eventName:"ccvq:setTime",data:{seconds:e}}),i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","controller"],eventName:"ccvq:timeState",data:{status:"start"}})},children:"B\u1ea5m gi\u1edd"}),(0,j.jsx)(l.Z,{className:o.trueBtn,onClick:function(){p(!0)},children:(0,j.jsx)(st.Z,{})}),(0,j.jsx)(l.Z,{className:o.falseBtn,onClick:function(){p(!1)},children:(0,j.jsx)(lt.Z,{})})]})]})]})},ut=(0,o.Z)((function(e){return{round:{height:"100%",display:"grid",gridTemplateRows:"70% 30%"},roundDisplay:{justifyContent:"space-around",alignItems:"center",background:"#51AFC3",padding:"1%",margin:"1%",display:"flex",flexDirection:"row",border:"1px solid black",borderRadius:"5px",marginBottom:0,boxShadow:"2px 2px 2px #000"},roundController:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:"#51AFC3",margin:"1%",border:"1px solid black",borderRadius:"5px",boxShadow:"2px 2px 2px #000"}}})),pt=function(e){var t=e.data,n=ut(),o=a.useState(null),i=(0,r.Z)(o,2),s=i[0],l=i[1];return(0,j.jsxs)("div",{className:n.round,children:[(0,j.jsx)("div",{className:n.roundDisplay,children:(0,j.jsx)(rt,{data:t,question:s})}),(0,j.jsx)("div",{className:n.roundController,children:(0,j.jsx)(dt,{data:t,setQuestion:l})})]})},mt=n(31881),xt=n.n(mt),ht=(0,o.Z)((function(e){return{round:{border:"1px solid black",borderRadius:"5px",height:"calc(100vh - 150px)",background:"#C4C4C4",overflowY:"scroll",boxShadow:"inset 5px 5px 5px #000"}}})),ft=function(e){var t=e.refSync,n=ht(),o=(0,a.useState)(null),i=(0,r.Z)(o,2),s=i[0],l=i[1];return(0,a.useEffect)((function(){console.log("CHP IS RENDER")})),(0,a.useEffect)((function(){var e=function(){var e=(0,Oe.Z)((0,Fe.Z)().mark((function e(){var t;return(0,Fe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt().get("http://localhost:2021/admin/game-content/CHP");case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t.current=e}),[]),(0,j.jsx)("div",{className:n.round,children:s&&(0,j.jsx)(pt,{data:s})})},vt=n(8798),gt=n(57204),bt=[{id:1,score:-1,data:{}},{id:2,score:-1,data:{}},{id:3,score:-1,data:{}}],yt=function(e){return e.time||N["".concat("lab"===e.type?"lab":"time").concat(e.score)]||15},jt=function(e){return e.time_practical%15===0?e.time_practical:null},Ct=(0,o.Z)((function(e){return{button:{fontWeight:"bold",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"2px 2px 2px #000000","&:hover":{backgroundColor:e.palette.success.main,color:e.palette.secondary.contrastText},padding:"0 30px"}}})),kt=function(e){var t=e.url,n=e.disabled,o=e.roundName,s=void 0===o?"VD":o,l=Ct(),c=(0,a.useState)(!1),d=(0,r.Z)(c,2),u=d[0],p=d[1];return(0,j.jsxs)(b.Z,{className:l.button,disabled:n,onClick:function(){p(!u),u?i.W.emit("controller:talk",{receivers:["viewer","livestream","scoreboard"],eventName:"ccvq:playVideo",data:{status:"close"}}):i.W.emit("controller:talk",{receivers:["viewer","livestream","scoreboard"],eventName:"ccvq:sendVideo",data:{autoPlay:!0,type:"image",url:"data/".concat(s,"/").concat(t)}})},children:[u?"\u1ea8n":"Hi\u1ec7n"," \u0111\xe1p \xe1n"]})},wt=(0,o.Z)((function(e){return{formatQuestion:{display:"flex",flexDirection:"column",width:"100%"},sendQuestionBtn:{fontWeight:"bold",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000","&:hover":{backgroundColor:e.palette.error.main,color:e.palette.secondary.contrastText}},trueBtn:{backgroundColor:e.palette.success.main,color:"white","&:hover":{color:e.palette.success.main,backgroundColor:"green"},border:"1px solid black",boxShadow:"2px 2px 2px #000000"},falseBtn:{backgroundColor:e.palette.error.main,color:"white","&:hover":{color:e.palette.error.main,backgroundColor:"darkred"},border:"1px solid black",boxShadow:"2px 2px 2px #000000"},starBtn:{color:e.palette.tertiary.main,backgroundColor:e.palette.secondary.main,"&:hover":{color:"white",backgroundColor:e.palette.tertiary.main},border:"1px solid black",boxShadow:"2px 2px 2px #000000"},countDownButton:{fontWeight:"bold",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"2px 2px 2px #000000","&:hover":{backgroundColor:e.palette.success.main,color:e.palette.secondary.contrastText},padding:"0 30px"}}})),Zt=function(e){var t,n=wt(),r=e.question,a=e.setQuestion,o=e.dataset,s=e.isOpenEdit,c=e.setIsOpenEdit,d=function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","controller"],eventName:"ccvq:timeState",data:{status:"start"}})},u=function(e){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"CHST:result_question",data:{id:r.id,status:e}})};return(0,j.jsxs)("div",{className:n.formatQuestion,children:[(0,j.jsx)(St,{question:r,setQuestion:a,isOpenEdit:s,setIsOpenEdit:c,dataset:o}),(0,j.jsxs)("div",{style:{marginTop:"30px",display:"flex",justifyContent:"space-around"},children:[(0,j.jsx)(b.Z,{className:n.sendQuestionBtn,onClick:function(){var e=yt(r);i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","controller"],eventName:"ccvq:setTime",data:{seconds:e}});var t=(0,W.Z)({},r);i.W.emit("controller:talk",{receivers:["mc"],eventName:"ccvq:sendQuestion_mc",data:{question:t}});var n=(0,W.Z)({},t.data);n.ans="",n.solution="",n.solutionURL="",t=(0,W.Z)((0,W.Z)({},t),{},{data:n}),i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"CHST:sendQuestion",data:(0,W.Z)({},t)})},disabled:s,children:"G\u1eedi c\xe2u h\u1ecfi"}),(0,j.jsx)(l.Z,{className:n.starBtn,onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"ccvq:hopeStar",data:{id:r.id,status:!0}})},disabled:s,children:(0,j.jsx)(it.Z,{})}),(0,j.jsxs)(b.Z,{className:n.countDownButton,onClick:d,disabled:s,children:["B\u1ea5m gi\u1edd ",yt(r)," s"]}),(0,j.jsx)(l.Z,{className:n.trueBtn,onClick:function(){u(!0)},disabled:s,children:(0,j.jsx)(st.Z,{})}),(0,j.jsx)(l.Z,{className:n.falseBtn,onClick:function(){u(!1)},disabled:s,children:(0,j.jsx)(lt.Z,{})}),(0,j.jsx)(l.Z,{className:n.falseBtn,onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","controller"],eventName:"ccvq:setTime",data:{seconds:5}}),i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","controller","client"],eventName:"ccvq:bellStatus",data:{status:"open"}}),d()},disabled:s,children:"5s"}),(null===(t=r.data)||void 0===t?void 0:t.solutionURL)&&(0,j.jsx)(kt,{url:r.data.solutionURL,disabled:s,roundName:"CHST"})]})]})},Nt=(0,o.Z)((function(e){return{formChooseScore:{width:"100%",backgroundColor:e.palette.secondary.main,borderRadius:"10px",border:"1px solid black",boxShadow:"1px 1px 1px #000000"},formatQuestion:{display:"grid",gridTemplateColumns:"20% 80%",marginBottom:"6px",alignItems:"center"},radioButtonSuccess:{margin:0},RadioBtn:{width:"100%",color:"green","&:active":{backgroundColor:e.palette.tertiary.main}}}})),St=function(e){var t=Nt(),n=e.question,o=e.setQuestion,s=e.isOpenEdit,c=e.setIsOpenEdit,d=e.dataset,u=(0,a.useState)(),p=(0,r.Z)(u,2),m=p[0],x=p[1],h=function(e){return function(){var t=d.filter((function(t){return parseInt(t.value)===e}))[0];o((function(n){return(0,W.Z)((0,W.Z)({},n),{},{type:t.type,score:e,time:yt((0,W.Z)((0,W.Z)({},t),{},{score:e})),time_practical:jt((0,W.Z)((0,W.Z)({},t),{},{score:e})),data:{question:t.question,topic:t.topic,url:t.url,ans:t.ans,solution:t.solution,solutionURL:t.solutionURL}})})),i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"CHST:chooseValueQuestion",data:{id:n.id,score:parseInt(e,10)}}),x(parseInt(e,10))}};return(0,j.jsxs)("div",{className:t.formatQuestion,children:[(0,j.jsx)("div",{className:t.formChooseScore,children:(0,j.jsx)(gt.Z,{children:(0,j.jsx)(Ye.Z,{row:!0,"aria-label":"checker",style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},value:m,children:[10,20,30].map((function(e,n){return(0,j.jsx)(Ae.Z,{className:t.radioButtonSuccess,value:e,control:(0,j.jsx)(Je.Z,{className:t.RadioBtn,onClick:h(e),color:"primary",inputProps:{style:{color:"green"}}}),checked:m===e},n)}))})})}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"90% 10%",marginLeft:"30px"},children:[(0,j.jsx)(Te.Z,{className:t.inputQuestion,value:-1===n.score?"Ch\u01b0a ch\u1ecdn c\xe2u h\u1ecfi":n.data.question,variant:"outlined",inputProps:{style:{marginLeft:"5px"}},onChange:function(e){o((function(t){return(0,W.Z)((0,W.Z)({},t),{},{data:(0,W.Z)((0,W.Z)({},t.data),{},{question:e.target.value})})}))},disabled:!s}),(0,j.jsx)(l.Z,{className:t.infoIcon,onClick:function(){c(!s)},children:(0,j.jsx)(vt.Z,{})})]})]})},Tt=(0,o.Z)((function(e){return{arrowButtonBack:{"&:hover":{backgroundColor:"#51AFC3"},overflow:"hidden"},iconBack:{fontSize:100,"&:hover":{color:"green"}},propMenus:{display:"flex",flexDirection:"column",margin:"0 30px",justifyContent:"center",alignItems:"center"},formSelect:{margin:"5px",height:"50px",width:"100%",border:"1px solid black"},submitButton:{fontWeight:"bold",marginTop:"10px",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000","&:hover":{backgroundColor:"green",color:e.palette.secondary.contrastText},width:"50%"},setInfo:{alignItems:"center",width:"100%",display:"grid",gridTemplateColumns:"20% 70% 10%"},titleScore:{display:"grid",gridTemplateColumns:"20%  80%"},valueScore:{fontWeight:"bold"},formatQuestion:{display:"flex",flexDirection:"column",width:"100%"},startButton:{marginTop:"1%",fontWeight:"bold",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000","&:hover":{backgroundColor:e.palette.error.main,color:e.palette.secondary.contrastText},overflowY:"hidden"}}})),Rt=function(e){var t=e.data,n=e.isOpenEdit,o=e.setIsOpenEdit,s=e.currentQuestion,l=e.setCurrentQuestion,c=Tt(),d=(0,a.useContext)(w.T),u=(0,a.useState)(1),p=(0,r.Z)(u,2),f=p[0],v=p[1],g=(0,a.useState)(1),y=(0,r.Z)(g,2),C=y[0],k=y[1];a.useEffect((function(){l({id:1,score:-1,data:{}})}),[f,C]);return(0,j.jsxs)("div",{className:c.setInfo,children:[(0,j.jsxs)("div",{className:c.propMenus,children:[(0,j.jsx)(m.Z,{className:c.formSelect,title:"Ch\u1ecdn b\u1ed9 \u0111\u1ec1",id:"form_control",type:"select",value:f,onChange:function(e){return v(e.target.value)},variant:"outlined",children:t.map((function(e,t){return(0,j.jsx)(x.Z,{value:e.id,className:c.menuItem,children:(0,j.jsx)(h.Z,{variant:"h6",color:"primary",children:e.topic})},t)}))}),(0,j.jsx)(m.Z,{className:c.formSelect,title:"Ch\u1ecdn ng\u01b0\u1eddi ch\u01a1i",id:"form_control",type:"select",value:C,onChange:function(e){k(e.target.value),v(e.target.value)},variant:"outlined",children:d.state.players.map((function(e,t){return(0,j.jsx)(x.Z,{value:e.order,className:c.menuItem,children:(0,j.jsx)(h.Z,{variant:"h6",color:"primary",children:e.name})},t)}))}),(0,j.jsx)(b.Z,{className:c.submitButton,onClick:function(){i.W.emit("controller:talk",{receivers:["controller","mc","viewer","livestream","client"],eventName:"CHST:init_data",data:{field:t[f-1].topic,review:t[f-1].review,player:C}})},children:"Ch\u1ed1t"})]}),(0,j.jsxs)("div",{style:{width:"100%",height:"100%",overflowY:"scroll"},children:[(0,j.jsx)("div",{className:c.formatQuestion,children:(0,j.jsxs)("div",{className:c.titleScore,children:[(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},children:[(0,j.jsx)("div",{className:c.valueScore,children:"10"}),(0,j.jsx)("div",{className:c.valueScore,children:"20"}),(0,j.jsx)("div",{className:c.valueScore,children:"30"})]}),(0,j.jsx)("div",{})]})}),t[C-1]&&(0,j.jsx)(Zt,{question:s,setQuestion:l,isOpenEdit:n,setIsOpenEdit:o,dataset:t[C-1].data})]}),(0,j.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[(0,j.jsx)(b.Z,{className:c.startButton,onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"CHST:swap_screen",data:{screen:"question"}})},children:"B\u1eaft \u0111\u1ea7u"}),(0,j.jsx)(b.Z,{className:c.startButton,onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"CHST:swap_screen",data:{screen:"waiting"}}),i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"CHST:status",data:{status:"end"}})},children:"K\u1ebft th\xfac"})]})]})},It=n(65136),Bt=n(96225),Wt=(0,o.Z)((function(e){return{displayPlay:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",position:"relative"},titleScoreQuestion:{paddingTop:"20px"},dataQuestion:{display:"grid",gridTemplateColumns:"40% 60%",alignItems:"center"},withoutVideo:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},videoQuestion:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%"},urlTitle:{margin:"3% 0"},video:{borderRadius:"5px",border:"1px solid black"},image:{width:"100%"},optionsVideo:{margin:"3% 0"},questionDetails:{width:"90%"},detail:{backgroundColor:e.palette.info.main,width:"100%",height:"100%",borderRadius:"5px",border:"1px solid black",boxShadow:"1px 1px 2px black",display:"grid",gridTemplateColumns:"5% 80% 5%",alignItems:"center",gridColumnGap:"5%",padding:"10px 20px",margin:"10px 0"},attribute:{backgroundColor:e.palette.tertiary.main,width:"30px",padding:"10px",textJustify:"center",borderRadius:"10px",border:"1px solid black",boxShadow:"1px 1px 2px black"}}})),qt=null,Dt=function(e){var t=e.formatQuestion,n=e.setFormatQuestion,r=e.currentQuestion,o=e.isOpenEdit,c=e.setIsOpenEdit,d=e.questionCHST,u=e.setQuestion,p=e.roundName,m=Wt(),x=(0,a.useRef)(null),f=d||t[r-1];return(0,j.jsxs)("div",{className:m.displayPlay,children:[(0,j.jsx)(_t,{}),(0,j.jsxs)("div",{className:f.data.url?m.dataQuestion:m.withoutVideo,children:[(0,j.jsxs)("div",{className:m.questionDetails,children:[(0,j.jsxs)("div",{className:m.detail,children:[(0,j.jsx)("div",{className:m.attribute,children:"Q"}),o?(0,j.jsx)(Te.Z,{className:m.inputEdit,value:f.data.question,label:"Question",inputProps:{style:{marginLeft:"5px"}},onChange:function(e){t?n((function(t){return t.map((function(t){return t.id===r?(0,W.Z)((0,W.Z)({},t),{},{data:(0,W.Z)((0,W.Z)({},t.data),{},{question:e.target.value})}):(0,W.Z)({},t)}))})):d&&u((function(t){return(0,W.Z)((0,W.Z)({},t),{},{data:(0,W.Z)((0,W.Z)({},t.data),{},{question:e.target.value})})}))},variant:"outlined"}):(0,j.jsx)(h.Z,{variant:"h6",children:(0,j.jsx)(It.Z,{string:f.data.question})}),(0,j.jsx)(l.Z,{className:m.infoIcon,onClick:function(){c(!o)},children:(0,j.jsx)(vt.Z,{})})]}),(0,j.jsxs)("div",{className:m.detail,children:[(0,j.jsx)("div",{className:m.attribute,children:"T"}),o?(0,j.jsx)(Te.Z,{className:m.inputEdit,value:f.data.topic,label:"Topic",inputProps:{style:{marginLeft:"5px"}},onChange:function(e){t?n((function(t){return t.map((function(t){return t.id===r?(0,W.Z)((0,W.Z)({},t),{},{data:(0,W.Z)((0,W.Z)({},t.data),{},{topic:e.target.value})}):(0,W.Z)({},t)}))})):d&&u((function(t){return(0,W.Z)((0,W.Z)({},t),{},{data:(0,W.Z)((0,W.Z)({},t.data),{},{topic:e.target.value})})}))},variant:"outlined"}):(0,j.jsx)(h.Z,{variant:"h6",children:f.data.topic}),(0,j.jsx)(l.Z,{className:m.infoIcon,onClick:function(){c(!o)},children:(0,j.jsx)(vt.Z,{})})]}),(0,j.jsxs)("div",{className:m.detail,children:[(0,j.jsx)("div",{className:m.attribute,children:"A"}),o?(0,j.jsx)(Te.Z,{className:m.inputEdit,value:f.data.ans,label:"Answer",inputProps:{style:{marginLeft:"5px"}},onChange:function(e){t?n((function(t){return t.map((function(t){return t.id===r?(0,W.Z)((0,W.Z)({},t),{},{data:(0,W.Z)((0,W.Z)({},t.data),{},{ans:e.target.value})}):(0,W.Z)({},t)}))})):d&&u((function(t){return(0,W.Z)((0,W.Z)({},t),{},{data:(0,W.Z)((0,W.Z)({},t.data),{},{ans:e.target.value})})}))},variant:"outlined"}):(0,j.jsx)(h.Z,{variant:"h6",children:(0,j.jsx)(It.Z,{string:f.data.ans})}),(0,j.jsx)(l.Z,{className:m.infoIcon,onClick:function(){c(!o)},children:(0,j.jsx)(vt.Z,{})})]}),f.data.url&&(0,j.jsxs)("div",{className:m.detail,children:[(0,j.jsx)("div",{className:m.attribute,children:"U"}),o?(0,j.jsx)(Te.Z,{className:m.inputEdit,value:f.data.url,label:"Url",inputProps:{style:{marginLeft:"5px"}},onChange:function(e){t?n((function(t){return t.map((function(t){return t.id===r?(0,W.Z)((0,W.Z)({},t),{},{data:(0,W.Z)((0,W.Z)({},t.data),{},{url:e.target.value})}):(0,W.Z)({},t)}))})):d&&u((function(t){return(0,W.Z)((0,W.Z)({},t),{},{data:(0,W.Z)((0,W.Z)({},t.data),{},{url:e.target.value})})}))},variant:"outlined"}):(0,j.jsx)(h.Z,{variant:"h6",color:"primary",className:m.urlTitle,children:f.data.url}),(0,j.jsx)(l.Z,{className:m.infoIcon,onClick:function(){c(!o)},children:(0,j.jsx)(vt.Z,{})})]})]}),f.data.url&&(0,j.jsxs)("div",{className:m.videoQuestion,children:["image"===f.type||"lab"===f.type?(0,j.jsx)("img",{src:"".concat("/controller","/data/").concat(p,"/").concat(f.data.url),alt:"question",className:m.image}):(0,j.jsx)(Bt.J5,{ref:x,src:"".concat("/controller","/data/").concat(p,"/").concat(f.data.url),className:m.video,children:(0,j.jsx)(Bt.sT,{position:"center"})}),(0,j.jsxs)(s.Z,{className:m.optionsVideo,children:[(0,j.jsx)(b.Z,{onClick:function(){return i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","scoreboard"],eventName:"ccvq:sendVideo",data:{autoPlay:!0,url:"data/".concat(p,"/").concat(f.data.url),type:"lab"===f.type?"image":f.type}}),qt=setTimeout((function(){x.current.actions.play()}),2500),function(){clearTimeout(qt)}},variant:"contained",color:"info",children:"image"!==f.type?"Play Video":"Show image"}),(0,j.jsx)(b.Z,{onClick:function(){x.current.actions.pause(),i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","scoreboard"],eventName:"ccvq:playVideo",data:{status:"pause"}})},variant:"contained",color:"info",children:"Pause"}),(0,j.jsxs)(b.Z,{onClick:function(){"video"!==f.type&&"audio"!==f.type||(x.current.actions.seek(0),x.current.actions.pause()),i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","scoreboard"],eventName:"ccvq:playVideo",data:{status:"close"}})},variant:"contained",color:"info",children:["Close ",f.type]}),(0,j.jsx)(b.Z,{onClick:function(){x.current.actions.seek(0),x.current.actions.pause(),i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","scoreboard"],eventName:"ccvq:playVideo",data:{status:"reset"}})},variant:"contained",color:"info",children:"Reset"})]})]})]})]})},_t=function(){var e=a.useState(!1),t=(0,r.Z)(e,2),n=t[0],o=t[1];return(0,j.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"50%"},children:n?(0,j.jsx)("div",{children:"oke"}):(0,j.jsxs)("div",{style:{display:"flex",gap:"5%"},children:[(0,j.jsx)(b.Z,{style:{backgroundColor:"#FFB927"},variant:"outlined",onClick:function(){o(!0)},children:"\u0110\u1ec1 d\u1ef1 ph\xf2ng"}),(0,j.jsx)(l.Z,{onClick:function(){i.W.emit("controller:talk",{receivers:["viewer"],eventName:"VD:changeFontSize",data:{action:"increase"}})},style:{backgroundColor:"#FFB927"},variant:"outlined",children:"+"}),(0,j.jsx)(l.Z,{onClick:function(){i.W.emit("controller:talk",{receivers:["viewer"],eventName:"VD:changeFontSize",data:{action:"decrease"}})},style:{backgroundColor:"#FFB927"},variant:"outlined",children:"-"})]})})},Qt=(0,o.Z)((function(e){return{round:{height:"100%",width:"100%",display:"grid",gridTemplateRows:"70% 30%",overflowY:"scroll"},roundDisplay:{justifyContent:"space-around",alignItems:"center",background:"#51AFC3",padding:"1%",margin:"1%",display:"flex",flexDirection:"row",border:"1px solid black",borderRadius:"5px",marginBottom:0,overflowY:"scroll",boxShadow:"2px 2px 2px #000"},roundController:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:"#51AFC3",margin:"1%",border:"1px solid black",borderRadius:"5px",overflowY:"scroll",boxShadow:"2px 2px 2px #000"}}})),Pt=function(e){var t=Qt(),n=e.data,o=(0,a.useState)(!1),i=(0,r.Z)(o,2),s=i[0],l=i[1],c=(0,a.useState)({id:1,score:-1,data:{}}),d=(0,r.Z)(c,2),u=d[0],p=d[1];return(0,j.jsxs)("div",{className:t.round,children:[(0,j.jsx)("div",{className:t.roundDisplay,children:-1!==u.score&&(0,j.jsx)(Dt,{questionCHST:u,setQuestion:p,isOpenEdit:s,setIsOpenEdit:l,roundName:"CHST"})}),(0,j.jsx)("div",{className:t.roundController,children:(0,j.jsx)(Rt,{data:n,isOpenEdit:s,setIsOpenEdit:l,currentQuestion:u,setCurrentQuestion:p})})]})},Et=(0,o.Z)((function(e){return{round:{border:"1px solid black",borderRadius:"5px",height:"calc(100vh - 2rem)",background:"#C4C4C4",overflowY:"scroll",boxShadow:"inset 5px 5px 5px #000"}}})),Ft=function(e){var t=e.refSync,n=Et(),o=(0,a.useState)(null),i=(0,r.Z)(o,2),s=i[0],l=i[1];return(0,a.useEffect)((function(){console.log("CHST IS RENDER")})),(0,a.useEffect)((function(){var e=function(){var e=(0,Oe.Z)((0,Fe.Z)().mark((function e(){var t;return(0,Fe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt().get("http://localhost:2021/admin/game-content/CHST");case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t.current=e}),[]),(0,j.jsx)("div",{className:n.round,children:s&&(0,j.jsx)(Pt,{data:s})})},Ot=n(24813),At=(0,o.Z)((function(e){return{round:{flexGrow:12,marginRight:"1rem",border:"1px solid black",borderRadius:"5px",minHeight:"100wh",background:"#C4C4C4",paddingBottom:"2%"},roundDisplay:{justifyContent:"space-around",alignItems:"center",background:"#51AFC3",padding:"1%",margin:"1%",height:"100%"}}})),zt=function(){var e={isMobile:!(0,Ot.Z)("(minwidth:768px)")},t=At(e),n=(0,a.useContext)(w.T),o=(0,a.useState)([]),i=(0,r.Z)(o,2),s=i[0],l=i[1],c=function(){var e=(0,Oe.Z)((0,Fe.Z)().mark((function e(){var t,r,a,o,i,l;return(0,Fe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s,r=new FormData,a=0;a<t.length;a++)o=t[a],r.append(o.name,o);return"http://localhost:2021/admin/upload-game-content",e.next=6,fetch("http://localhost:2021/admin/upload-game-content",{method:"POST",body:r});case 6:return i=e.sent,e.next=9,i.json();case 9:l=e.sent,n.action.addLog("INFO",l.log);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)("div",{children:[(0,j.jsx)(h.Z,{variant:"h5",children:"Nh\u1eadp d\u1eef li\u1ec7u \u0111\u1ec1 thi"}),(0,j.jsx)("div",{className:t.inputControl,children:(0,j.jsxs)("label",{className:"input-data-label",children:["N\u1ea1p \u0111\u1ec1 thi:"," ",(0,j.jsx)("input",{className:"gamesContentFiles",type:"file",accept:".json",onChange:function(e){l(e.target.files)},multiple:!0})]})}),(0,j.jsx)(b.Z,{onClick:c,className:t.uploadButton,children:"X\xc1C NH\u1eacN"})]})},Lt=n(15671),Vt=n(43144),Ht=n(97326),Mt=n(60136),Kt=n(27277),Gt=function(e){(0,Mt.Z)(n,e);var t=(0,Kt.Z)(n);function n(e){var r;return(0,Lt.Z)(this,n),(r=t.call(this,e)).state={},r.updateConnectionData=r.updateConnectionData.bind((0,Ht.Z)(r)),r}return(0,Vt.Z)(n,[{key:"updateConnectionData",value:function(e){}},{key:"render",value:function(){var e=this.props.connections;return(0,j.jsx)(a.Fragment,{children:(0,j.jsx)("table",{className:"connection-control",style:{listStyleType:"none",textAlign:"start",width:"100%"},children:e.length>0?["client1","client2","client3","client4","mc","controller","livestream"].map((function(t){var n;return(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:t.toUpperCase()}),(0,j.jsxs)("td",{style:{textAlign:"center"},children:["[",(null===(n=Object(e).filter((function(e){return e.role===t}))[0])||void 0===n?void 0:n.socket_id.slice(0,6))||"NOT CONNECTED","]"]})]},t)})):(0,j.jsx)("thead",{children:(0,j.jsx)("tr",{children:(0,j.jsxs)("td",{children:["OPEN SERVER"," [","".concat("localhost",":").concat("2021"),"] ","PLEASE"]})})})})})}}]),n}(a.Component),Ut=(0,o.Z)((function(e){return{round:{border:"1px solid black",borderRadius:45,paddingBottom:"2%",boxShadow:"5px 5px 5px #000",backgroundColor:e.palette.primary.main,display:"flex",flexDirection:"row",justifyContent:"space-around",padding:30,height:"calc(100vh - 150px)"},systemConnection:{border:"1px solid black",borderRadius:"5px",padding:"30px",margin:"20px",boxShadow:"3px 3px 3px #000000"},systemInputData:{border:"1px solid black",borderRadius:"5px",padding:"10px 30px",margin:"20px",boxShadow:"3px 3px 3px #000000"},systemLog:{padding:"10px 10px",borderRadius:"5px",border:"1px solid black",boxShadow:"3px 3px 3px #000000",display:"flex",justifyContent:"space-around",flexDirection:"column"},leftBlock:{display:"flex",flexDirection:"column"},exportBtn:{fontWeight:"bold",color:"white","&:hover":{color:e.palette.success.main},boxShadow:"1px 1px 1px #000000"}}})),Yt=function(){var e=Ut(),t=(0,a.useContext)(w.T),n=t.state,r=t.action,o=n.connections,s=n.logContent,l=n.nViewers;return(0,j.jsxs)("div",{className:e.round,children:[(0,j.jsxs)("div",{className:e.leftBlock,children:[(0,j.jsxs)("div",{className:e.systemConnection,children:[(0,j.jsx)("h3",{children:"K\u1ebft n\u1ed1i"}),(0,j.jsx)(Gt,{connections:o}),(0,j.jsxs)("p",{children:["\u0110ang c\xf3"," ",l>1?l+" viewers":l+" viewer"," k\u1ebft n\u1ed1i"]})]}),(0,j.jsx)("div",{className:e.systemInputData,children:(0,j.jsx)(zt,{addLog:r.addLog})}),(0,j.jsxs)("div",{children:[(0,j.jsx)(b.Z,{className:e.exportBtn,onClick:function(){var e=document.createElement("a"),t=new Blob([s],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download="log.txt",document.body.appendChild(e),e.click()},color:"danger",variant:"contained",children:"Export Log"}),(0,j.jsx)("div",{style:{marginTop:"25px"},children:(0,j.jsx)(b.Z,{className:e.exportBtn,onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"controllerSystem:playSound",data:{}})},variant:"contained",color:"tertiary",children:"Ch\xe0o m\u1eebng th\xed sinh"})})]})]}),(0,j.jsxs)("div",{className:e.systemLog,children:[(0,j.jsx)("h3",{children:"Log ki\u1ec3m tra c\xe0i \u0111\u1eb7t:"}),(0,j.jsx)("textarea",{cols:100,rows:40,value:s,readOnly:!0,style:{marginTop:"20px",borderRadius:"5px",paddingLeft:"10px",paddingTop:"10px",boxShadow:"1px 1px 1px #000000",height:"93%"}})]})]})},Jt=n(66126),Xt=(0,o.Z)((function(e){return{viewQuestion:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",overflow:"scroll"},currentQuestion:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},nextQuestion:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},title:{backgroundColor:e.palette.tertiary.main,width:"175px",height:"50px",textAlign:"center",borderRadius:"5px",border:"1px solid black",boxShadow:"1px 1px 2px black",display:"flex",flexDirection:"column",justifyContent:"center"},box:{width:"80%"},detail:{backgroundColor:e.palette.info.main,maxWidth:"100%",height:"100%",textAlign:"center",borderRadius:"5px",border:"1px solid black",boxShadow:"1px 1px 2px black",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"10px 20px",margin:"10px 0"},attribute:{backgroundColor:e.palette.tertiary.main,width:"10%",padding:"10px",textJustify:"center",borderRadius:"10px",border:"1px solid black",boxShadow:"1px 1px 2px black"}}})),$t=function(e){var t=e.nextQuestion,n=Xt(),o=(0,a.useContext)(Jt.u).showNoti,s=(0,a.useState)(""),c=(0,r.Z)(s,2),d=c[0],u=c[1],p=(0,a.useState)(),m=(0,r.Z)(p,2),x=m[0],f=m[1];(0,a.useEffect)((function(){return i.W.on("KD:ready",(function(e){u("B\u1ed9 \u0111\u1ec1 s\u1ed1 "+e.selectedOption+" cho "+e.player.name+" s\u1eb5n s\xe0ng")})),function(){i.W.off("KD:ready")}}),[]),(0,a.useEffect)((function(){x&&u(null)}),[x]),(0,a.useEffect)((function(){d&&f(null)}),[d]),(0,a.useEffect)((function(){return i.W.on("ccvq:sendQuestion_mc",(function(e){f(e.data)})),function(){i.W.off("ccvq:sendQuestion_mc")}}),[]);var v=function(e){console.log(e.target.value),console.log("In how it is the bug bruh"),o("confirm","Form update content question",x.question)};return(0,j.jsxs)("div",{className:n.viewQuestion,children:[(0,j.jsxs)("div",{className:n.currentQuestion,children:[(0,j.jsx)("div",{className:n.title,children:(0,j.jsxs)(h.Z,{variant:"h6",children:["Current Question [",x?x.id:"x","]"]})}),d&&(0,j.jsx)("div",{className:n.box,children:d}),x&&(0,j.jsxs)("div",{className:n.box,children:[(0,j.jsxs)("div",{className:n.detail,children:[(0,j.jsx)("div",{className:n.attribute,children:"Question"}),(0,j.jsx)(h.Z,{variant:"h6",children:(0,j.jsx)(It.Z,{string:x.question})}),(0,j.jsx)(l.Z,{className:n.infoIcon,onClick:v,value:"question",children:(0,j.jsx)(vt.Z,{value:"question"})})]}),(0,j.jsxs)("div",{className:n.detail,children:[(0,j.jsx)("div",{className:n.attribute,children:"Topic"}),(0,j.jsx)(h.Z,{variant:"h6",children:(0,j.jsx)(It.Z,{string:x.topic})}),(0,j.jsx)(l.Z,{className:n.infoIcon,onClick:v,value:"topic",children:(0,j.jsx)(vt.Z,{value:"topic"})})]}),(0,j.jsxs)("div",{className:n.detail,children:[(0,j.jsx)("div",{className:n.attribute,children:"Answer"}),(0,j.jsx)(h.Z,{variant:"h6",children:(0,j.jsx)(It.Z,{string:x.ans})}),(0,j.jsx)(l.Z,{className:n.infoIcon,onClick:v,value:"answer",children:(0,j.jsx)(vt.Z,{value:"answer"})})]}),("image"===x.type||"audio"===x.type)&&(0,j.jsxs)("div",{className:n.detail,children:[(0,j.jsx)("div",{className:n.attribute,children:"Url"}),(0,j.jsx)(h.Z,{variant:"h6",children:(0,j.jsx)(It.Z,{string:x.url})}),(0,j.jsx)(l.Z,{className:n.infoIcon,onClick:v,value:"url",children:(0,j.jsx)(vt.Z,{value:"url"})})]})]})]}),(0,j.jsxs)("div",{className:n.nextQuestion,children:[(0,j.jsx)("div",{className:n.title,children:(0,j.jsx)(h.Z,{variant:"h6",color:"tertiary",children:"Next Question"})}),(0,j.jsx)("div",{className:n.box,children:(0,j.jsxs)("div",{className:n.detail,children:[(0,j.jsx)("div",{className:n.attribute,children:"Question"}),(0,j.jsx)(h.Z,{variant:"h6",children:t&&(0,j.jsx)(It.Z,{string:t.question})}),(0,j.jsx)(l.Z,{className:n.infoIcon,onClick:v,value:"next_question",children:(0,j.jsx)(vt.Z,{value:"next_question"})})]})})]})]})},en=(0,o.Z)((function(e){return{container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},errorButton:{border:"1px solid black",backgroundColor:e.palette.error.main,boxShadow:"1px 1px 1px #000000","&:hover":{backgroundColor:"black",color:e.palette.secondary.contrastText}},successButton:{border:"1px solid black",boxShadow:"1px 1px 1px #000000",backgroundColor:"green","&:hover":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText}}}})),tn=function(e){var t=en(),n=e.sendQuestion,r=e.count,a=e.countCorrect,o=e.setCountCorrect,i=e.countIncorrect,s=e.setCountIncorrect,l=e.data,c=e.selectedOption,d=e.disabled,u=function(e){e?o(a+1):s(i+1),function(){var e=r;if(18===e)return e=18,(0,se.zT)("ccvq:setTime",{seconds:0}),void(0,se.zT)("ccvq:timeState",{status:"pause"});n(e+=1)}(),(0,se.zT)("KD:statusQuestion",{quesId:r,status:e,answer:l[c-1].data[r-1].ans})};return(0,j.jsxs)("div",{className:t.container,children:[(0,j.jsx)(b.Z,{title:"Quay l\u1ea1i c\xe2u h\u1ecfi tr\u01b0\u1edbc",className:t.errorButton,onClick:function(){var e=r;1===e?e=1:e-=1,n(e)},color:"danger",variant:"contained",children:"Back"}),(0,j.jsx)(b.Z,{title:"C\xe2u tr\u1ea3 l\u1eddi sai",className:t.errorButton,onClick:function(){u(!1)},disabled:d||a+i===18,color:"danger",variant:"contained",children:"Sai"}),(0,j.jsx)(b.Z,{title:"C\xe2u tr\u1ea3 l\u1eddi ch\xednh x\xe1c",className:t.successButton,onClick:function(){u(!0)},disabled:d||a+i===18,color:"success",variant:"contained",children:"\u0110\xfang"})]})},nn=(0,o.Z)((function(e){return{container:{width:"100%",height:"70%",display:"flex",justifyContent:"center",alignItems:"center"},count:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,textAlign:"center",borderRadius:"20px",border:"1px solid black",boxShadow:"3px 3px 3px #000000",padding:"10%"}}})),rn=function(e){var t=e.count,n=nn();return(0,j.jsx)("div",{className:n.container,children:(0,j.jsxs)("div",{className:n.count,children:[(0,j.jsxs)(h.Z,{variant:"h5",style:{margin:"10px",textTransform:"uppercase",fontWeight:"bold"},color:"primary",children:["S\u1ed1 c\xe2u \u0111\xfang"," "]}),(0,j.jsx)(h.Z,{variant:"h2",color:"textPrimary",children:t})]})})},an=(0,o.Z)((function(e){return{KDSelectOptions:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},formSelect:{width:"100%",margin:"0 20px"},menuItem:{},similarButton:{border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000","&:hover":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},margin:"0 20px",width:"100px"}}})),on=function(e){var t=an(),n=e.data,o=e.selectedOption,i=e.selectedPlayer,s=e.disabled,l=e.setCount,c=e.setCountCorrect,d=e.setCountIncorrect,u=e.setDisabled,p=e.setSelectedOption,f=e.setSelectedPlayer,v=e.sendQuestion,g=(0,a.useContext)(w.T).state.players,y=(0,a.useState)(60),C=(0,r.Z)(y,2),k=C[0],Z=(C[1],function(e){(0,se.zT)("ccvq:setTime",{seconds:0}),(0,se.zT)("ccvq:timeState",{status:"pause"}),"without_swap_screen"!==e&&((0,se.zT)("KD:status",{status:"pause"}),u(!0))});return(0,j.jsxs)("div",{className:t.KDSelectOptions,children:[(0,j.jsx)(m.Z,{className:t.formSelect,title:"Ch\u1ecdn b\u1ed9 \u0111\u1ec1",id:"form_control",type:"select",value:o,onChange:function(e){o===e.target.value||s||Z(),p(e.target.value)},variant:"outlined",children:n&&n.map((function(e,n){return(0,j.jsx)(x.Z,{value:e.id,className:t.menuItem,children:(0,j.jsxs)(h.Z,{variant:"h6",color:"tertiary",children:["Bo de so ",e.id]})},n)}))}),(0,j.jsx)(m.Z,{className:t.formSelect,title:"Ch\u1ecdn ng\u01b0\u1eddi ch\u01a1i",id:"form_control",type:"select",value:i,onChange:function(e){i===e.target.value||s||Z(),f(e.target.value),p(e.target.value)},variant:"outlined",children:g.map((function(e,n){return(0,j.jsx)(x.Z,{value:e.order,className:t.menuItem,children:(0,j.jsx)(h.Z,{variant:"h6",color:"tertiary",children:e.name})},n)}))}),(0,j.jsx)(b.Z,{title:"N\u1ea1p \u0111\u1ec1",className:t.similarButton,onClick:function(){l(0),c(0),d(0),(0,se._J)(["controller","mc","viewer","livestream"],"KD:ready",{status:!0,data:n[o-1].data,player:i}),(0,se.zT)("ccvq:choosePlayer",{order:i}),(0,se.zT)("ccvq:timeState",{status:"pause"}),(0,se.zT)("ccvq:setTime",{seconds:k}),u(!1)},color:"tertiary",variant:"contained",children:"Init data"}),(0,j.jsx)(b.Z,{title:"B\u1eaft \u0111\u1ea7u v\xf2ng ch\u01a1i",className:t.similarButton,onClick:function(){v(1),(0,se.zT)("KD:status",{status:"start"}),(0,se.zT)("ccvq:timeState",{status:"start"})},disabled:s,color:"success",variant:"contained",children:"B\u1eaft \u0111\u1ea7u"}),(0,j.jsx)(b.Z,{title:"K\u1ebft th\xfac v\xf2ng ch\u01a1i",className:t.similarButton,onClick:Z,disabled:s,color:"danger",variant:"contained",children:"K\u1ebft th\xfac"})]})},sn=(0,o.Z)((function(e){return{round:{border:"1px solid black",borderRadius:"5px",background:"#C4C4C4",display:"grid",gridTemplateRows:"70% 30%",overflow:"scroll",height:"calc(100vh - 150px)",boxShadow:"inset 5px 5px 5px #000"},roundDisplay:{justifyContent:"space-around",alignItems:"center",background:"#51AFC3",padding:"1%",margin:"1%",border:"1px solid black",borderRadius:"5px",marginBottom:0,boxShadow:"2px 2px 2px #000"},roundController:{display:"grid",gridTemplateColumns:"75% 25%",alignItems:"center",background:"#51AFC3",margin:"1%",border:"1px solid black",borderRadius:"5px",overflow:"scroll",boxShadow:"2px 2px 2px #000"},actionForm:{display:"grid",gridTemplateRows:"auto 1fr",height:"75%",rowGap:"20%"}}})),ln=function(e){var t=e.refSync,n=sn(),o=(0,a.useState)(),s=(0,r.Z)(o,2),l=s[0],c=s[1],d=(0,a.useState)(-1),u=(0,r.Z)(d,2),p=u[0],m=u[1],x=(0,a.useState)(-1),h=(0,r.Z)(x,2),f=h[0],v=h[1],g=(0,a.useState)(-1),b=(0,r.Z)(g,2),y=b[0],C=b[1],k=(0,a.useState)(1),w=(0,r.Z)(k,2),Z=w[0],N=w[1],S=(0,a.useState)(1),T=(0,r.Z)(S,2),R=T[0],I=T[1],B=(0,a.useState)(!0),W=(0,r.Z)(B,2),q=W[0],D=W[1];(0,a.useEffect)((function(){var e=function(){var e=(0,Oe.Z)((0,Fe.Z)().mark((function e(){var t;return(0,Fe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt().get("http://localhost:2021/admin/game-content/KD");case 2:t=e.sent,console.log("[DATA] ",t.data),c(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t.current=e}),[]),console.log("KD is render");var _=["client"];(0,a.useEffect)((function(){return i.W.on("ccvq:timeState",(function(e){q||"timeout"!==e.status||D(!0)})),function(){i.W.off("ccvq:timeState")}}),[]),(0,a.useEffect)((function(){m(0),v(0),C(0)}),[R,Z]);var Q=function(e){(0,se._J)(["viewer","livestream"].concat(_),"ccvq:sendQuestion_client",{id:p+1,question:l[R-1].data[e-1].question,url:l[R-1].data[e-1].url}),(0,se._J)(["mc","controller"],"ccvq:sendQuestion_mc",{data:l[R-1].data[e-1]}),m(e)};return(0,j.jsxs)("div",{className:n.round,children:[(0,j.jsx)("div",{className:n.roundDisplay,children:l&&(0,j.jsx)($t,{count:p,nextQuestion:18!==p?l[R-1].data[p]:{question:"\u0110\xe3 h\u1ebft g\xf3i c\xe2u h\u1ecfi, vui l\xf2ng n\u1ea1p th\xeam c\xe2u h\u1ecfi cho b\u1ed9 \u0111\u1ec1 s\u1ed1 ".concat(R)}})}),(0,j.jsxs)("div",{className:n.roundController,children:[(0,j.jsxs)("div",{className:n.actionForm,children:[(0,j.jsx)(on,{data:l,disabled:q,selectedOption:R,sendQuestion:Q,setCountCorrect:v,setCountIncorrect:C,selectedPlayer:Z,setSelectedPlayer:N,setSelectedOption:I,setDisabled:D,setCount:m}),(0,j.jsx)(tn,{data:l,disabled:q,selectedOption:R,sendQuestion:Q,setCountCorrect:v,setCountIncorrect:C,count:p,countCorrect:f,countIncorrect:y})]}),(0,j.jsx)(rn,{count:f})]})]})},cn=(0,o.Z)((function(e){return{playerBoard:{height:"calc((100vh - 400px) / 2)",border:"1px solid black",borderRadius:"5px",padding:"2% 3%",boxShadow:"2px 2px 2px #000000",display:"grid",gridTemplateRows:"1fr 4fr 1fr",rowGap:"5%"},button:{backgroundColor:e.palette.tertiary.main,fontWeight:"bold","&:hover":{color:"white"},borderRadius:"5px",boxShadow:"2px 2px 2px #000000"},avatar:{height:"100%",display:"flex",alignItems:"end",justifyContent:"center",backgroundColor:"#C4C4C4",borderRadius:"10px",boxShadow:"inset 2px 2px 2px #000","&:hover":{cursor:"pointer"}},avatarImg:{width:"100%",maxHeight:"90%",position:"relative"},info:{display:"grid",gridTemplateColumns:"1fr 1fr",columnGap:"5%",justifyContent:"center",alignItems:"center"},score:{fontSize:"12vh",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",textShadow:"2px 2px 2px #000",width:"100%",height:"100%",backgroundColor:"#C4C4C4",borderRadius:"10px",boxShadow:"inset 2px 2px 2px #000"},header:{display:"grid",gridTemplateColumns:"1fr 10fr 1fr",columnGap:"5%",padding:"0 10%"},dot:{borderRadius:"50%",boxShadow:"2px 2px 2px #000",maxHeight:"50px",maxWidth:"50px",width:"70%",height:"60%"},centerContainer:{display:"flex",justifyContent:"center",alignItems:"center"}}})),dn=function(e){var t,n=e.player,o=cn(),l=(0,a.useContext)(w.T).action,c=(0,a.useState)(n.name),d=(0,r.Z)(c,2),u=d[0],p=d[1];return(0,j.jsxs)("div",{className:o.playerBoard,children:[(0,j.jsxs)("div",{className:o.header,children:[(0,j.jsx)("div",{className:o.centerContainer,children:(0,j.jsx)("div",{className:o.dot,style:{backgroundColor:"rgb(255, 45, 85)"}})}),(0,j.jsx)(Te.Z,{size:"small",variant:"outlined",value:u,onKeyDown:function(e){13===e.keyCode&&l.setPlayerName(n.order,u.toUpperCase())},onChange:function(e){p(e.target.value)},inputProps:{style:{textAlign:"center",fontWeight:"bold",padding:"10px"}}}),(0,j.jsx)("div",{className:o.centerContainer,children:(0,j.jsx)("div",{className:o.dot,style:{backgroundColor:"#60D94C"}})})]}),(0,j.jsxs)("div",{className:o.info,children:[(0,j.jsx)("div",{className:o.avatar,children:(0,j.jsx)("img",{alt:"avatar",src:"".concat("/controller","/images/TS").concat(n.order,".png")||0,className:o.avatarImg})}),(0,j.jsx)("div",{className:o.score,children:n.score})]}),(0,j.jsxs)("div",{className:o.centerContainer,style:{gap:"5%"},children:[(0,j.jsxs)(s.Z,{className:o.optionsVideo,children:[(0,j.jsx)(b.Z,{onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","scoreboard"],eventName:"ccvq:videoStatus",data:{url:n.urlVideo,status:"play"}})},color:"info",variant:"contained",children:"Play"}),(0,j.jsx)(b.Z,{onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","scoreboard"],eventName:"ccvq:videoStatus",data:{status:"pause"}})},color:"info",variant:"contained",children:"Pause"}),(0,j.jsx)(b.Z,{onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","scoreboard"],eventName:"ccvq:videoStatus",data:{status:"close"}})},color:"info",variant:"contained",children:"Close Video"}),(0,j.jsx)(b.Z,{onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","scoreboard"],eventName:"ccvq:videoStatus",data:{status:"reset"}})},color:"info",variant:"contained",children:"Reset"})]}),(0,j.jsx)(b.Z,{className:o.button,variant:"contained",color:"danger",onClick:(t=n.order,function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"mhdt:showPlayer",data:{id:t}})}),children:"Hi\u1ec7n"})]})]})},un=(0,o.Z)((function(e){return{round:{flexGrow:12,marginRight:"1rem",border:"1px solid black",borderRadius:"5px",minHeight:"100wh",background:"#C4C4C4",paddingBottom:"2%",boxShadow:"inset 5px 5px 5px #000",height:"calc(100vh - 150px)"},roundDisplay:{background:"#51AFC3",padding:"2%",margin:"1%",height:"100%",rowGap:"2%",borderRadius:"5px",boxShadow:"2px 2px 2px #000"},players:{display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 1fr",width:"100%",height:"100%",rowGap:"5%",columnGap:"5%"},roundControl:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",gap:"5%"},changeSlideButton:{}}})),pn=function(){var e=un(),t=(0,a.useContext)(w.T);return(0,j.jsx)("div",{className:e.round,children:(0,j.jsxs)("div",{className:e.roundDisplay,children:[(0,j.jsx)("div",{className:e.players,children:t.state.players.map((function(e,t){return(0,j.jsx)(dn,{player:e},t)}))}),(0,j.jsxs)("div",{className:e.roundControl,children:[(0,j.jsx)(b.Z,{className:e.changeSlideButton,variant:"contained",onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"mhdt:playSound",data:{name:"welcome"}})},color:"tertiary",children:"Welcome Contestants"}),(0,j.jsxs)("div",{children:[(0,j.jsx)(b.Z,{className:e.changeSlideButton,style:{marginRight:"50px"},variant:"contained",onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"mhdt:playSound",data:{name:"intro"}})},color:"tertiary",children:"Intro"}),(0,j.jsx)(b.Z,{className:e.changeSlideButton,variant:"contained",onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"mhdt:changeSlide",data:{status:!0}})},color:"tertiary",children:"Change Slide"})]}),(0,j.jsx)(b.Z,{className:e.changeSlideButton,variant:"contained",onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"mhdt:playSound",data:{name:"award"}})},color:"tertiary",children:"Trao gi\u1ea3i"})]})]})})},mn=(0,o.Z)((function(){return{radioButtonSuccess:{padding:"5px",height:"30px",borderRadius:"5px","&:hover ":{backgroundColor:"gray"},"&:active":{backgroundColor:"green"}},radioButtonFail:{padding:"5px",height:"30px",borderRadius:"5px","&:hover ":{backgroundColor:"gray"},"&:active":{backgroundColor:"red"}}}})),xn=function(e){var t=e.player,n=e.id,r=e.name,a=e.handleChangeAnswer,o=e.handleChangeTime,i=e.handleChangeStatus,s=e.fixAns,l=mn();return(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,j.jsx)(Te.Z,{style:{flexGrow:5},disabled:!s,label:"\u0110\xe1p \xe1n th\xed sinh "+r,variant:"filled",value:t.answer,onChange:a(n)}),(0,j.jsx)(Te.Z,{style:{width:"100px",marginLeft:"4rem",marginRight:"2rem"},disabled:!s,label:"Time",variant:"filled",value:t.seconds,onChange:o(n),inputProps:{style:{textAlign:"right"}},fullWidth:!0,type:"number",step:"0.0001"}),(0,j.jsxs)(Ye.Z,{style:{flexGrow:1,display:"flex",justifyContent:"space-around",alignItems:"center"},row:!0,"aria-label":"checker",name:"row-radio-buttons-group",value:t.status,onChange:i(n),children:[(0,j.jsx)(Ae.Z,{className:l.radioButtonSuccess,value:"correct",control:(0,j.jsx)(Je.Z,{style:{color:"green"}}),label:"\u0110\xfang"}),(0,j.jsx)(Ae.Z,{className:l.radioButtonFail,value:"incorrect",control:(0,j.jsx)(Je.Z,{style:{color:"red"}}),label:"Sai"})]})]})},hn=(0,o.Z)((function(e){return{answerBox:{backgroundColor:e.palette.secondary.surface,color:e.palette.secondary.contrastText,padding:"1rem",height:"100%",display:"grid",gridTemplateRows:"repeat(6,1fr)"},similarButton:{border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000",fontWeight:"bold","&:hover":{backgroundColor:"#f7b928",color:e.palette.secondary.contrastText}},errorButton:{border:"1px solid black",backgroundColor:e.palette.error.main,boxShadow:"1px 1px 1px #000000",fontWeight:"bold","&:hover":{backgroundColor:"#f3425f",color:e.palette.secondary.contrastText}},successButton:{border:"1px solid black",boxShadow:"1px 1px 1px #000000",backgroundColor:"green",fontWeight:"bold","&:hover":{backgroundColor:"#45bd62",color:e.palette.secondary.contrastText}},switch:{padding:"5px",height:"30px",borderRadius:"5px",backgroundColor:"green",marginLeft:"20px"},infoIcon:{marginLeft:"3rem","&:hover":{color:e.palette.tertiary.main},"&:active":{backgroundColor:e.palette.tertiary.main,color:"green"}}}})),fn=function(e){var t=hn(),n=e.id,o=e.data,s=e.setData,c=(0,a.useState)(!0),d=(0,r.Z)(c,2),u=d[0],p=d[1],m=(0,a.useState)(!1),x=(0,r.Z)(m,2),h=x[0],f=x[1],v=(0,a.useState)(!1),g=(0,r.Z)(v,2),y=g[0],C=g[1],k=(0,a.useState)(0),N=(0,r.Z)(k,2),S=(N[0],N[1]),T=function(){return S(Math.random())},R=(0,a.useContext)(w.T).state.players,I=(0,a.useState)([{id:0,answer:"",seconds:0,status:""},{id:1,answer:"",seconds:0,status:""},{id:2,answer:"",seconds:0,status:""},{id:3,answer:"",seconds:0,status:""}]),B=(0,r.Z)(I,2),q=B[0],D=B[1];console.log("TangToc is rendering..."),(0,a.useEffect)((function(){return i.W.on("ccvq:send_ans",(function(e){var t=q;t[e.order-1].answer=e.answer,t[e.order-1].seconds=e.seconds,D(t),T()})),function(){i.W.off("ccvq:send_ans")}}),[]),(0,a.useEffect)((function(){return i.W.on("ccvq:timeState",(function(e){"start"===e.status&&p(!1),"timeout"===e.status&&p(!0)})),function(){i.W.off("ccvq:timeState")}}),[]);var _=function(e){return function(t){var n=q;n[e].answer=t.target.value.toUpperCase(),D(n),T()}},Q=function(e){return function(t){var n=q;n[e].seconds=t.target.value,D(n),T()}},P=function(e){return function(t){var n=q;n[e].status=t.target.value,D(n),T()}};return(0,j.jsxs)("div",{className:t.answerBox,children:[q.map((function(e,t){return(0,j.jsx)(xn,{player:e,id:t,name:R[e.id].name,handleChangeAnswer:_,handleChangeTime:Q,handleChangeStatus:P,fixAns:h},t)})),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,j.jsx)(Te.Z,{style:{flexGrow:"1"},disabled:!h,label:"\u0110\xe1p \xe1n ch\u01b0\u01a1ng tr\xecnh",variant:"filled",value:o[n].data.ans,onChange:function(e){var t=o;t[n].data.ans=e.target.value,s(t),T()}}),(0,j.jsx)(l.Z,{className:t.infoIcon,onClick:function(){return f(!h)},children:(0,j.jsx)(et.Z,{})}),(0,j.jsx)(b.Z,{style:{marginLeft:"5rem",marginRight:"5rem"},className:t.similarButton,variant:"contained",color:"tertiary",onClick:function(){C(!1);var e=q;e.forEach((function(e,t){e.id=t,e.answer="",e.seconds=0,e.status=""})),D(e),i.W.emit("controller:talk",{receivers:["viewer","livestream","controller","mc","client"],eventName:"ccvq:setTime",data:{seconds:Z.filter((function(e){return"TT"===e.id}))[0]["time".concat(n+1)]}}),i.W.emit("controller:talk",{receivers:["viewer","livestream","controller","mc","client"],eventName:"ccvq:timeState",data:{status:"start"}}),"video"===o[n].data.type&&i.W.emit("controller:talk",{receivers:["viewer","livestream","controller"],eventName:"ccvq:startVideo",data:{}})},disabled:!u,children:"T\xednh gi\u1edd"})]}),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,j.jsx)(b.Z,{className:t.successButton,variant:"contained",color:"success",onClick:function(){D((function(e){return e.sort((function(e,t){return e.seconds-t.seconds}))})),T()},children:"S\u1eafp x\u1ebfp"}),(0,j.jsxs)("div",{children:[(0,j.jsx)(b.Z,{className:t.similarButton,variant:"contained",color:"tertiary",onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"ccvq:show_all_players_ans",data:{players:!0===y?q.map((function(e){return(0,W.Z)((0,W.Z)({},e),{},{name:R[e.id].name})})):q.map((function(e){return(0,W.Z)((0,W.Z)({},e),{},{name:R[e.id].name,status:"null"})}))}}),i.W.emit("controller:talk",{receivers:["mc"],eventName:"ccvq:show_all_players_ans",data:{players:q.map((function(e){return(0,W.Z)((0,W.Z)({},e),{},{name:R[e.id].name})}))}})},children:"Hi\u1ec7n c\xe2u tr\u1ea3 l\u1eddi"}),(0,j.jsx)(Ae.Z,{className:t.switch,control:(0,j.jsx)(ze.Z,{style:{color:"#FFB927"}}),label:"Ch\u1ea5m",checked:y,onChange:function(){return C(!y)}})]}),(0,j.jsx)(b.Z,{className:t.errorButton,variant:"contained",color:"danger",onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"ccvq:show_solution",data:{ques_content:o[n].data.question,url:"".concat("/controller","/data/TT/").concat(o[n].data.solutionURL)}})},disabled:!o[n].data.hasOwnProperty("solutionURL"),children:"Hi\u1ec7n \u0111\xe1p \xe1n CT"}),(0,j.jsx)(l.Z,{className:t.infoIcon,style:{marginLeft:"-3rem"},onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"tt:sound",data:{name:q.map((function(e){return e.status})).includes("correct")?"RightAnswer":"WrongAnswer"}})},children:(0,j.jsx)(tt.Z,{})})]})]})},vn=n(85187),gn=(0,o.Z)((function(e){return{questionBox:{backgroundColor:e.palette.secondary.surface,color:e.palette.secondary.contrastText,padding:"1rem",height:"100%",display:"grid",gridTemplateRows:"1fr 1fr"},similarButton:{border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000",fontWeight:"bold","&:hover":{backgroundColor:"#f7b928",color:e.palette.secondary.contrastText}},errorButton:{border:"1px solid black",backgroundColor:e.palette.error.main,boxShadow:"1px 1px 1px #000000",fontWeight:"bold","&:hover":{backgroundColor:"#f3425f",color:e.palette.secondary.contrastText}},successButton:{border:"1px solid black",boxShadow:"1px 1px 1px #000000",backgroundColor:"green",fontWeight:"bold","&:hover":{backgroundColor:"#45bd62",color:e.palette.secondary.contrastText}},infoIcon:{marginLeft:"5px","&:hover":{color:e.palette.tertiary.main},"&:active":{backgroundColor:e.palette.tertiary.main,color:"green"}}}})),bn=function(e){var t=gn(),n=e.id,o=e.setID,s=e.data,c=e.setData,d=(0,a.useState)(!1),u=(0,r.Z)(d,2),p=u[0],h=u[1],f=(0,a.useState)(0),v=(0,r.Z)(f,2),g=(v[0],v[1]);return(0,j.jsxs)("div",{className:t.questionBox,children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"},children:[(0,j.jsx)(m.Z,{style:{fontWeight:"bold"},value:n,onChange:function(e){o(e.target.value)},variant:"outlined",children:s.map((function(e,t){return(0,j.jsxs)(x.Z,{value:t,children:["C\xe2u h\u1ecfi s\u1ed1 ",e.id]},t)}))}),(0,j.jsx)(Te.Z,{style:{flexGrow:1,marginLeft:"2rem",marginRight:"2rem"},label:"C\xe2u h\u1ecfi",value:s[n].data.question,variant:"filled",disabled:!p,onChange:function(e){var t=s;t[n].data.question=e.target.value,c(t),g(Math.random())}}),(0,j.jsx)(l.Z,{className:t.infoIcon,onClick:function(){return h(!p)},children:(0,j.jsx)(et.Z,{})})]}),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,j.jsx)(b.Z,{className:t.errorButton,variant:"contained",color:"danger",onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"tt:state",data:{status:"start"}})},children:"B\u1eaft \u0111\u1ea7u l\u01b0\u1ee3t thi"}),(0,j.jsx)(b.Z,{className:t.similarButton,variant:"contained",color:"tertiary",onClick:function(){i.W.emit("controller:talk",{receivers:["client"],eventName:"ccvq:sendQues_client",data:{ques_num:n+1,ques_content:s[n].data.question}}),i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"ccvq:sendQues_viewer",data:{ques_num:n+1,ques_content:s[n].data.question,ques_type:s[n].data.type,url:"".concat("/controller","/data/TT/").concat(s[n].data.url)}}),i.W.emit("controller:talk",{receivers:["mc"],eventName:"ccvq:sendQues_mc",data:{ques_num:n+1,ques_content:s[n].data.question,ques_ans:s[n].data.ans}})},children:"G\u1eedi c\xe2u h\u1ecfi"}),(0,j.jsxs)("a",{href:"".concat("/controller","/data/TT/").concat(s[n].data.url),target:"_blank",rel:"noreferrer",children:[(0,j.jsx)(l.Z,{className:t.infoIcon,onClick:function(){return h(!p)},children:(0,j.jsx)(vn.Z,{})}),"public/data/TT/",s[n].data.url]})]})]})},yn=(0,o.Z)((function(e){return{round:{border:"1px solid black",borderRadius:"5px",background:"#C4C4C4",display:"grid",gridTemplateRows:"70% 30%",boxShadow:"inset 5px 5px 5px #000",height:"calc(100vh - 150px)"},roundDisplay:{justifyContent:"space-around",alignItems:"center",background:"#51AFC3",padding:"1%",margin:"1%",border:"1px solid black",borderRadius:"5px",marginBottom:0,boxShadow:"2px 2px 2px #000"},roundController:{background:"#51AFC3",padding:"1%",margin:"1%",border:"1px solid black",borderRadius:"5px",display:"flex",flexDirection:"column",justifyContent:"space-around",boxShadow:"2px 2px 2px #000"}}})),jn=function(e){var t=e.refSync,n=yn(),o=(0,a.useState)(),i=(0,r.Z)(o,2),s=i[0],l=i[1],c=(0,a.useState)(0),d=(0,r.Z)(c,2),u=d[0],p=d[1];return(0,a.useEffect)((function(){var e=function(){var e=(0,Oe.Z)((0,Fe.Z)().mark((function e(){var t;return(0,Fe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt().get("http://localhost:2021/admin/game-content/TT");case 2:t=e.sent,console.log("[DATA] ",t.data),l(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t.current=e}),[]),(0,j.jsxs)("div",{className:n.round,children:[(0,j.jsx)("div",{className:n.roundDisplay,children:s&&(0,j.jsx)(fn,{id:u,data:s,setData:l})}),(0,j.jsx)("div",{className:n.roundController,children:s&&(0,j.jsx)(bn,{id:u,setID:p,data:s,setData:l})})]})},Cn=n(18158),kn=(0,o.Z)((function(){return{radioButtonSuccess:{padding:"5px",height:"30px",borderRadius:"5px","&:hover ":{backgroundColor:"gray"},"&:active":{backgroundColor:"green"}},radioButtonFail:{padding:"5px",height:"30px",borderRadius:"5px","&:hover ":{backgroundColor:"gray"},"&:active":{backgroundColor:"red"}}}})),wn=function(e){var t=e.name,n=e.answer,r=e.id,a=e.fixAns,o=e.handleChangeAnswer,i=e.handleChangeRightness,s=kn();return(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,j.jsx)(Te.Z,{style:{flexGrow:5},disabled:!a,label:"\u0110\xe1p \xe1n th\xed sinh "+t,variant:"filled",value:n.answer,onChange:o(r)}),(0,j.jsx)(Te.Z,{style:{width:"75px",marginLeft:"4rem",marginRight:"2rem",backgroundColor:n.bell>0?"red":"transparent"},disabled:!0,label:"Chu\xf4ng",variant:"filled",value:n.bell,inputProps:{style:{textAlign:"right"}}}),(0,j.jsxs)(Ye.Z,{style:{flexGrow:1,display:"flex",justifyContent:"space-around",alignItems:"center"},row:!0,"aria-label":"checker",name:"row-radio-buttons-group",value:n.status,onChange:i(r),children:[(0,j.jsx)(Ae.Z,{className:s.radioButtonSuccess,value:"correct",control:(0,j.jsx)(Je.Z,{style:{color:"green"}}),label:"\u0110\xfang"}),(0,j.jsx)(Ae.Z,{className:s.radioButtonFail,value:"incorrect",control:(0,j.jsx)(Je.Z,{style:{color:"red"}}),label:"Sai"})]})]})},Zn=(0,o.Z)((function(e){return{answerBox:{backgroundColor:e.palette.secondary.surface,color:e.palette.secondary.contrastText,padding:"1rem",height:"100%",display:"grid",gridTemplateRows:"1fr 1fr 1fr 1fr 1fr 1fr",overflow:"scroll"},similarButton:{border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000",fontWeight:"bold","&:hover":{backgroundColor:"#f7b928",color:e.palette.secondary.contrastText}},errorButton:{border:"1px solid black",backgroundColor:e.palette.error.main,boxShadow:"1px 1px 1px #000000",fontWeight:"bold","&:hover":{backgroundColor:"#f3425f",color:e.palette.secondary.contrastText}},successButton:{border:"1px solid black",boxShadow:"1px 1px 1px #000000",backgroundColor:"green",fontWeight:"bold","&:hover":{backgroundColor:"#45bd62",color:e.palette.secondary.contrastText}}}})),Nn=0,Sn=function(e){var t=e.data,n=e.setData,o=e.id,s=e.CNV,c=Zn(),d=(0,a.useState)(!0),p=(0,r.Z)(d,2),h=p[0],f=p[1],v=(0,a.useState)(!1),g=(0,r.Z)(v,2),y=g[0],C=g[1],k=(0,a.useState)("Auction"),Z=(0,r.Z)(k,2),N=Z[0],S=Z[1],T=(0,a.useState)(0),R=(0,r.Z)(T,2),I=(R[0],R[1]),B=function(){return I(Math.random())},W=(0,a.useContext)(w.T).state.players,q=(0,a.useState)([{answer:"",bell:0,status:"null"},{answer:"",bell:0,status:"null"},{answer:"",bell:0,status:"null"},{answer:"",bell:0,status:"null"}]),D=(0,r.Z)(q,2),_=D[0],Q=D[1];(0,a.useEffect)((function(){return i.W.on("client:bell_signal",(function(e){if(console.log(_[e.order-1].bell),0===_[e.order-1].bell){var t=_;Nn+=1,t[e.order-1].bell=Nn,Q(t),B(),i.W.emit("controller:talk",{receivers:["viewer","livestream","controller","mc"],eventName:"ccvq:bell_signal",data:{order:e.order}})}})),function(){i.W.off("client:bell_signal")}}),[]),(0,a.useEffect)((function(){return i.W.on("ccvq:timeState",(function(e){"start"===e.status&&f(!1),"timeout"===e.status&&f(!0)})),function(){i.W.off("ccvq:timeState")}}),[]),(0,a.useEffect)((function(){return i.W.on("ccvq:send_ans",(function(e){var t=_;t[e.order-1].answer=e.answer,Q(t),B()})),function(){i.W.off("ccvq:send_ans")}}),[]);var P=function(e){return function(t){var n=_;n[e].answer=t.target.value.toUpperCase(),Q(n),B()}},E=function(e){return function(t){var n=_;n[e].status=t.target.value,Q(n),B()}};return(0,j.jsxs)("div",{className:c.answerBox,children:[_.map((function(e,t){return(0,j.jsx)(wn,{name:W[t].name,answer:e,id:t,fixAns:y,handleChangeAnswer:P,handleChangeRightness:E},t)})),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,j.jsx)(Te.Z,{style:{flexGrow:"1",marginRight:"5rem"},disabled:!y,label:"\u0110\xe1p \xe1n ch\u01b0\u01a1ng tr\xecnh",variant:"filled",value:t[o].data.ans,onChange:function(e){var r=t;r[o].data.ans=e.target.value,n(r),B()}}),(0,j.jsx)(l.Z,{className:c.infoIcon,onClick:function(){return C(!y)},children:(0,j.jsx)(et.Z,{})}),(0,j.jsx)(b.Z,{className:c.similarButton,style:{marginLeft:"5rem",marginRight:"5rem"},variant:"contained",color:"tertiary",onClick:function(){var e=_;e.forEach((function(e){e.answer="",e.status="null"})),Q(e),S("RightRow"),i.W.emit("controller:talk",{receivers:["viewer","livestream","controller","mc","client"],eventName:"ccvq:setTime",data:{seconds:15}}),i.W.emit("controller:talk",{receivers:["viewer","livestream","controller","mc","client"],eventName:"ccvq:timeState",data:{status:"start"}})},disabled:!h,children:"T\xednh gi\u1edd"}),(0,j.jsx)(l.Z,{className:c.infoIcon,style:{marginRight:"2rem"},onClick:function(){Nn=0;var e=(0,u.Z)(_);e.forEach((function(e){e.bell=0})),Q(e),B(),i.W.emit("controller:talk",{receivers:["controller","viewer","livestream","mc","client"],eventName:"ccvq:bellStatus",data:{status:"open"}})},children:(0,j.jsx)(Cn.Z,{})})]}),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",padding:"1rem"},children:[(0,j.jsx)(b.Z,{className:c.successButton,variant:"contained",color:"success",onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"ccvq:show_all_players_ans",data:{players:_.map((function(e,t){return{name:W[t].name,ans:e.answer,status:e.status}}))}})},children:"Hi\u1ec7n \u0111\xe1p \xe1n"}),(0,j.jsxs)(b.Z,{className:c.similarButton,variant:"contained",color:"tertiary",onClick:function(){_.map((function(e){return e.status})).includes("correct")?i.W.emit("controller:talk",{receivers:["controller","viewer","livestream"],eventName:"vcnv:reveal_row",data:{status:!0,row_num:o+1,ques_ans:t[o].data.ans,length:t[o].data.length}}):i.W.emit("controller:talk",{receivers:["controller","viewer","livestream"],eventName:"vcnv:reveal_row",data:{status:!1,row_num:o+1}})},children:[_.map((function(e){return e.status})).includes("correct")?"Hi\u1ec7n ":"\u1ea8n "," ","h\xe0ng ngang"]}),(0,j.jsx)(b.Z,{className:c.errorButton,variant:"contained",color:"danger",onClick:function(){i.W.emit("controller:talk",{receivers:["controller","viewer","livestream"],eventName:"vcnv:load_image",data:{url:"".concat("/controller","/data/VCNV/").concat(s.url)}})},children:"Load \u1ea2nh CNV"}),(0,j.jsxs)("div",{children:[(0,j.jsxs)(m.Z,{style:{fontWeight:"bold",marginRight:"1rem"},value:N,onChange:function(e){return S(e.target.value)},variant:"outlined",children:[(0,j.jsx)(x.Z,{value:"Auction",children:" \u0110\u1ea5u gi\xe1 "}),(0,j.jsx)(x.Z,{value:"Hint",children:" Nh\u1eadn g\u1ee3i \xfd "}),(0,j.jsx)(x.Z,{value:"RightRow",children:" \u0110\xfang H\xe0ng ngang "}),(0,j.jsx)(x.Z,{value:"RightCNV",children:" \u0110\xfang CNV "}),(0,j.jsx)(x.Z,{value:"WrongCNV",children:" Sai CNV "}),(0,j.jsx)(x.Z,{value:"Last15s",children:" 15 gi\xe2y cu\u1ed1i "})]}),(0,j.jsx)(l.Z,{className:c.infoIcon,onClick:function(){i.W.emit("controller:talk",{receivers:["controller","viewer","livestream"],eventName:"vcnv:sound",data:{name:N}})},children:(0,j.jsx)(tt.Z,{})}),(0,j.jsx)(b.Z,{className:c.errorButton,style:{marginLeft:"2rem"},variant:"contained",color:"danger",onClick:function(){i.W.emit("controller:talk",{receivers:["controller","viewer","livestream"],eventName:"vcnv:openAll",data:{cnv:s.answer.toUpperCase()}})},children:"M\u1edf t\u1ea5t c\u1ea3"})]})]})]})},Tn=n(99818),Rn=(0,o.Z)((function(e){return{questionBox:{backgroundColor:e.palette.secondary.surface,color:e.palette.secondary.contrastText,padding:"1rem",height:"100%",display:"grid",gridTemplateRows:"1fr 1fr",overflow:"scroll"},similarButton:{border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000",fontWeight:"bold","&:hover":{backgroundColor:"#f7b928",color:e.palette.secondary.contrastText}},errorButton:{border:"1px solid black",backgroundColor:e.palette.error.main,boxShadow:"1px 1px 1px #000000",fontWeight:"bold","&:hover":{backgroundColor:"#f3425f",color:e.palette.secondary.contrastText}},successButton:{border:"1px solid black",boxShadow:"1px 1px 1px #000000",backgroundColor:"green",fontWeight:"bold","&:hover":{backgroundColor:"#45bd62",color:e.palette.secondary.contrastText}},infoIcon:{marginLeft:"5px","&:hover":{color:e.palette.tertiary.main},"&:active":{backgroundColor:e.palette.tertiary.main,color:"green"}}}})),In=function(e){var t=Rn(),n=e.data,o=e.setData,s=e.id,c=e.setID,d=(0,a.useState)(!1),p=(0,r.Z)(d,2),h=p[0],f=p[1],v=(0,a.useState)("crossword"),g=(0,r.Z)(v,2),y=g[0],C=g[1],k=(0,a.useState)([!0,!0,!0,!0,!0,!0]),w=(0,r.Z)(k,2),Z=w[0],N=w[1],S=(0,a.useState)(0),T=(0,r.Z)(S,2),R=(T[0],T[1]);return(0,j.jsxs)("div",{className:t.questionBox,children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,j.jsx)(m.Z,{style:{fontWeight:"bold",marginRight:"2rem"},value:s,onChange:function(e){return c(e.target.value)},variant:"outlined",children:n.map((function(e,t){return t<5?(0,j.jsxs)(x.Z,{value:t,children:[" ","H\xe0ng ngang ",t+1," "]},t):(0,j.jsxs)(x.Z,{value:t,children:[" ","\xd4 trung t\xe2m"," "]},t)}))}),(0,j.jsx)(Te.Z,{style:{flexGrow:1,marginRight:"2rem"},disabled:!h,label:"C\xe2u h\u1ecfi",value:n[s].data.question,variant:"filled",onChange:function(e){var t=n;t[s].data.question=e.target.value,o(t),R(Math.random())}}),(0,j.jsx)(l.Z,{className:t.infoIcon,onClick:function(){return f(!h)},children:(0,j.jsx)(et.Z,{})})]}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,j.jsxs)(m.Z,{style:{fontWeight:"bold",marginRight:"2rem"},value:y,onChange:function(e){return C(e.target.value)},variant:"outlined",children:[(0,j.jsx)(x.Z,{value:"crossword",children:" H\xe0ng ngang "}),(0,j.jsx)(x.Z,{value:"question",children:" C\xe2u h\u1ecfi "}),(0,j.jsx)(x.Z,{value:"image",children:" M\u1ea3nh gh\xe9p "})]}),(0,j.jsxs)("div",{style:{display:"flex",flexGrow:1,justifyContent:"space-around",alignItems:"center"},children:[(0,j.jsx)(b.Z,{className:t.errorButton,variant:"contained",color:"danger",onClick:function(){i.W.emit("controller:talk",{receivers:["controller","viewer","livestream"],eventName:"vcnv:switch_slides",data:{status:y}})},children:"Chuy\u1ec3n Slide"}),(0,j.jsxs)(b.Z,{className:t.similarButton,variant:"contained",color:"tertiary",onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","controller"],eventName:"vcnv:choose_ques",data:{length:n[s].data.length,ques_num:s+1,status:Z[s]}});var e=(0,u.Z)(Z);e[s]=!e[s],N(e)},children:[!0===Z[s]?"Ch\u1ecdn":"B\u1ecf ch\u1ecdn"," h\xe0ng ngang"]}),(0,j.jsx)(b.Z,{className:t.successButton,variant:"contained",color:"success",onClick:function(){i.W.emit("controller:talk",{receivers:["client"],eventName:"ccvq:sendQues_client",data:{ques_num:s+1,ques_content:n[s].data.question}}),i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"ccvq:sendQues_viewer",data:{ques_num:s+1,ques_content:n[s].data.question,type:n[s].data.type,url:n[s].data.url}}),i.W.emit("controller:talk",{receivers:["mc"],eventName:"ccvq:sendQues_mc",data:{ques_num:s+1,ques_content:n[s].data.question,ques_ans:n[s].data.ans}})},children:"G\u1eedi c\xe2u h\u1ecfi"}),"audio"===n[s].data.type&&(0,j.jsx)(b.Z,{className:t.errorButton,variant:"contained",color:"tertiary",onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"vcnv:playQuesAudio",data:{}})},children:"Ph\xe1t nh\u1ea1c"}),(0,j.jsx)(l.Z,{className:t.infoIcon,onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","controller","mc"],eventName:"vcnv:crossword",data:{crossword:n.map((function(e){return{length:e.data.length,word:e.data.ans}}))}})},children:(0,j.jsx)(Tn.Z,{})})]})]})]})},Bn=(0,o.Z)((function(e){return{round:{border:"1px solid black",borderRadius:"5px",background:"#C4C4C4",display:"grid",gridTemplateRows:"70% 30%",overflow:"scroll",boxShadow:"inset 5px 5px 5px #000",height:"calc(100vh - 150px)"},roundDisplay:{justifyContent:"space-around",alignItems:"center",background:"#51AFC3",padding:"1%",margin:"1%",border:"1px solid black",borderRadius:"5px",marginBottom:0,boxShadow:"2px 2px 2px #000"},roundController:{background:"#51AFC3",padding:"1%",margin:"1%",border:"1px solid black",borderRadius:"5px",display:"flex",flexDirection:"column",justifyContent:"space-around",overflow:"scroll",boxShadow:"2px 2px 2px #000"}}})),Wn=function(e){var t=e.refSync,n=Bn(),o=(0,a.useState)(null),s=(0,r.Z)(o,2),l=s[0],c=s[1],d=(0,a.useState)(null),u=(0,r.Z)(d,2),p=u[0],m=u[1],x=(0,a.useState)(0),h=(0,r.Z)(x,2),f=h[0],v=h[1];return(0,a.useEffect)((function(){var e=function(){var e=(0,Oe.Z)((0,Fe.Z)().mark((function e(){var t;return(0,Fe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt().get("http://localhost:2021/admin/game-content/VCNV");case 2:t=e.sent,console.log("[DATA] ",t.data),c(t.data.data),m(t.data.CNV),i.W.emit("controller:talk",{receivers:["viewer","livestream","controller","mc"],eventName:"vcnv:crossword",data:{crossword:t.data.data.map((function(e){return{length:e.data.length,word:e.data.ans}})),cnv:t.data.CNV.answer}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t.current=e}),[]),(0,j.jsxs)("div",{className:n.round,children:[(0,j.jsx)("div",{className:n.roundDisplay,children:l&&(0,j.jsx)(Sn,{id:f,data:l,setData:c,CNV:p})}),(0,j.jsx)("div",{className:n.roundController,children:l&&(0,j.jsx)(In,{id:f,setID:v,data:l,setData:c})})]})},qn=n(49437),Dn=n(34597),_n=(0,o.Z)((function(e){return{arrowButtonBack:{"&:hover":{backgroundColor:"#51AFC3"}},iconBack:{fontSize:100,"&:hover":{color:"green"}},formControlPlay:{width:"100%",display:"grid",gridTemplateColumns:"5% 20% 75%"},chooseQues:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},sendQuestionBtn:{width:"50%",fontWeight:"bold",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000","&:hover":{backgroundColor:e.palette.error.main,color:e.palette.secondary.contrastText}}}})),Qn=function(e){var t=e.formatQuestion,n=e.setIsFirstRender,r=e.setFormatQuestion,a=e.currentQuestion,o=e.setCurrentQuestion,s=e.setNextForm,c=e.isOpenEdit,d=e.setIsOpenEdit,u=_n();return(0,j.jsxs)("div",{className:u.formControlPlay,children:[(0,j.jsx)(l.Z,{className:u.arrowButtonBack,onClick:function(){s(!1),n(!0)},children:(0,j.jsx)(qn.Z,{className:u.iconBack,color:"primary",fontSize:"large"})}),(0,j.jsxs)("div",{className:u.chooseQues,children:[(0,j.jsx)(m.Z,{className:u.formSelect,title:"Ch\u1ecdn b\u1ed9 \u0111\u1ec1",id:"form_control",type:"select",value:a,onChange:function(e){return o(e.target.value)},variant:"outlined",children:t.map((function(e,t){return(0,j.jsx)(x.Z,{value:e.id,className:u.menuItem,children:(0,j.jsxs)(h.Z,{variant:"h6",sx:function(e){return{color:e.palette.danger.main}},children:["C\xe2u h\u1ecfi s\u1ed1 ",e.id," (",e.score," \u0111i\u1ec3m)"]})},t)}))}),(0,j.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},children:[(0,j.jsx)(l.Z,{onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"VD:swap_screen",data:{screen:"question"}})},children:(0,j.jsx)(Dn.Z,{className:u.sync})}),(0,j.jsx)(b.Z,{className:u.sendQuestionBtn,onClick:function(){var e=yt(t[a-1]);i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","controller"],eventName:"ccvq:setTime",data:{seconds:e}});var n=(0,W.Z)({},t[a-1]);i.W.emit("controller:talk",{receivers:["mc"],eventName:"ccvq:sendQuestion_mc",data:{question:n}});var r=(0,W.Z)({},n.data);r.ans="",r.solution="",r.solutionURL="",n=(0,W.Z)((0,W.Z)({},n),{},{data:r}),i.W.emit("controller:talk",{receivers:["viewer","livestream"],eventName:"VD:sendQuestion",data:{questions:n}})},disabled:c,color:"tertiary",variant:"contained",children:"G\u1eedi c\xe2u h\u1ecfi"})]})]}),(0,j.jsx)(En,{formatQuestion:t,setFormatQuestion:r,currentQuestion:a,setNextForm:s,isOpenEdit:c,setIsOpenEdit:d})]})},Pn=(0,o.Z)((function(e){return{container:{width:"100%",height:"100%"},optionsTop:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"20px",marginTop:"5px"},optionsBottom:{marginTop:"30px",display:"flex",justifyContent:"space-around"},inputQuestion:{width:"70%",backgroundColor:e.palette.background.main,borderRadius:"5px",border:"1px solid black",boxShadow:"1px 1px 1px #000000"},endButton:{margin:"1% 5%",fontWeight:"bold",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000","&:hover":{backgroundColor:e.palette.error.main,color:e.palette.secondary.contrastText}},trueBtn:{backgroundColor:e.palette.success.main,color:"white","&:hover":{color:e.palette.success.main,backgroundColor:"green"},border:"1px solid black",boxShadow:"2px 2px 2px #000000"},falseBtn:{backgroundColor:e.palette.error.main,color:"white","&:hover":{color:e.palette.error.main,backgroundColor:"darkred"},border:"1px solid black",boxShadow:"2px 2px 2px #000000"},starBtn:{color:e.palette.tertiary.main,backgroundColor:e.palette.secondary.main,"&:hover":{color:"white",backgroundColor:e.palette.tertiary.main},border:"1px solid black",boxShadow:"2px 2px 2px #000000"},countDownButton:{fontWeight:"bold",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"2px 2px 2px #000000","&:hover":{backgroundColor:e.palette.success.main,color:e.palette.secondary.contrastText},padding:"0 30px"},infoIcon:{marginLeft:"5px","&:hover":{color:e.palette.tertiary.main},"&:active":{backgroundColor:e.palette.tertiary.main,color:"green"}}}})),En=function(e){var t,n=e.formatQuestion,r=e.setFormatQuestion,a=e.currentQuestion,o=e.setNextForm,s=e.isOpenEdit,c=e.setIsOpenEdit,d=Pn(),u=n[a-1],p=function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","controller"],eventName:"ccvq:timeState",data:{status:"start"}})},m=function(e){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"VD:result_question",data:{id:u.id,status:e}})};return(0,j.jsxs)("div",{className:d.container,children:[(0,j.jsxs)("div",{className:d.optionsTop,children:[(0,j.jsx)(Te.Z,{className:d.inputQuestion,value:-1===a?"Ch\u01b0a ch\u1ecdn c\xe2u h\u1ecfi":u.data.question,variant:"outlined",inputProps:{style:{marginLeft:"5px"}},onChange:function(e){-1!==a&&r((function(t){return t.map((function(t){return t.id===a?(0,W.Z)((0,W.Z)({},t),{},{data:(0,W.Z)((0,W.Z)({},t.data),{},{question:e.target.value})}):(0,W.Z)({},t)}))}))},disabled:!s}),(0,j.jsx)(l.Z,{className:d.infoIcon,color:"tertiary",variant:"contained",onClick:function(){c(!s)},children:(0,j.jsx)(vt.Z,{})}),(0,j.jsx)(b.Z,{className:d.endButton,onClick:function(){o(!1)},variant:"contained",color:"tertiary",children:"K\u1ebft th\xfac"})]}),(0,j.jsxs)("div",{className:d.optionsBottom,children:[(0,j.jsx)(l.Z,{className:d.starBtn,onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"ccvq:hopeStar",data:{id:n[a-1].id,status:!0}})},disabled:s,sx:function(e){return{backgroundColor:"rgb(255 185 39)"}},children:(0,j.jsx)(it.Z,{})}),(0,j.jsxs)(b.Z,{className:d.countDownButton,onClick:p,variant:"contained",color:"tertiary",disabled:s,children:["Th\u1eddi gian ",yt(u)," s"]}),"lab"===(null===u||void 0===u?void 0:u.type)&&(0,j.jsxs)(b.Z,{className:d.countDownButton,onClick:function(){var e=jt(u);i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","controller"],eventName:"ccvq:setTime",data:{seconds:e}}),p()},disabled:s,variant:"contained",color:"tertiary",children:["Th\u1eddi gian th\u1ef1c h\xe0nh ",jt(u)," s"]}),(0,j.jsx)(l.Z,{className:d.trueBtn,onClick:function(){m(!0)},disabled:s,sx:function(e){return{backgroundColor:e.palette.success.main}},children:(0,j.jsx)(st.Z,{})}),(0,j.jsx)(l.Z,{className:d.falseBtn,onClick:function(){m(!1)},disabled:s,sx:function(e){return{backgroundColor:e.palette.danger.main}},children:(0,j.jsx)(lt.Z,{})}),(0,j.jsx)(l.Z,{className:d.falseBtn,onClick:function(){i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","controller"],eventName:"ccvq:setTime",data:{seconds:5}}),i.W.emit("controller:talk",{receivers:["viewer","livestream","mc","controller","client"],eventName:"ccvq:bellStatus",data:{status:"open"}}),p()},disabled:s,sx:function(e){return{backgroundColor:e.palette.tertiary.main}},children:"5s"}),(null===(t=u.data)||void 0===t?void 0:t.solutionURL)&&(0,j.jsx)(kt,{url:u.data.solutionURL,disabled:s})]})]})},Fn=(0,o.Z)((function(e){return{round:{height:"100%",display:"grid",gridTemplateRows:"70% 30%"},roundDisplay:{justifyContent:"space-around",alignItems:"center",background:"#51AFC3",padding:"1%",margin:"1%",display:"flex",flexDirection:"row",border:"1px solid black",borderRadius:"5px",marginBottom:0,boxShadow:"2px 2px 2px #000"},roundController:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:"#51AFC3",margin:"1%",border:"1px solid black",borderRadius:"5px",boxShadow:"2px 2px 2px #000"}}})),On=function(e){var t=Fn(),n=(0,a.useState)(!1),o=(0,r.Z)(n,2),i=o[0],s=o[1],l=e.nextForm,c=e.setIsFirstRender,d=e.formatQuestion,u=e.setFormatQuestion,p=e.currentQuestion,m=e.setNextForm,x=e.selectedPlayer,h=e.setCurrentQuestion;return(0,j.jsxs)("div",{className:t.round,children:[(0,j.jsx)("div",{className:t.roundDisplay,children:(0,j.jsx)(Dt,{formatQuestion:d,setFormatQuestion:u,currentQuestion:p,isOpenEdit:i,setIsOpenEdit:s,roundName:"VD"})}),(0,j.jsx)("div",{className:t.roundController,children:(0,j.jsx)(Qn,{nextForm:l,setIsFirstRender:c,setNextForm:m,selectedPlayer:x,formatQuestion:d,setFormatQuestion:u,currentQuestion:p,setCurrentQuestion:h,isOpenEdit:i,setIsOpenEdit:s})})]})},An=(0,o.Z)((function(e){return{header:{},details:{display:"flex",flexDirection:"column",border:"1px solid black",borderRadius:"10px"},detail:{padding:"10px",border:"1px solid black"},value:{borderRadius:"50%",border:"3px solid black",boxShadow:"1px 1px 1px black",padding:"5px",overflow:"visible",backgroundColor:"green",color:"white"},topic:{borderRadius:"10px",border:"3px solid black",boxShadow:"1px 1px 1px black",padding:"5px",textAlign:"center",overflow:"visible",backgroundColor:e.palette.tertiary.main,fontWeight:"bold"},id:{borderRadius:"10px",border:"3px solid black",boxShadow:"1px 1px 1px black",padding:"5px",textAlign:"center",overflow:"visible",backgroundColor:"red",color:"white"},summaryPanel:{display:"grid",gridTemplateColumns:"33% 50% 10%",width:"100%",columnGap:"3%"}}})),zn=function(e){var t=e.data,n=An(),o=(0,a.useState)(!1),i=(0,r.Z)(o,2),s=i[0],l=i[1];return(0,j.jsxs)(Ve.Z,{expanded:s,onClick:function(){l((function(e){return!e}))},children:[(0,j.jsx)(He.Z,{expandIcon:(0,j.jsx)(Ke.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,j.jsxs)("div",{className:n.summaryPanel,children:[(0,j.jsx)("div",{className:n.id,children:"C\xe2u h\u1ecfi s\u1ed1 ".concat(t.id)}),(0,j.jsx)("div",{className:n.topic,children:t.topic}),(0,j.jsx)("div",{className:n.value,children:t.value})]})}),(0,j.jsx)(Me.Z,{children:(0,j.jsxs)("div",{className:n.details,children:[(0,j.jsx)("div",{className:n.detail,children:(0,j.jsx)(It.Z,{string:t.question})}),(0,j.jsxs)(h.Z,{className:n.detail,style:{fontWeight:"bold"},children:["\u0110\xc1P \xc1N: ",(0,j.jsx)(It.Z,{string:t.ans})]}),t.url&&(0,j.jsxs)(h.Z,{className:n.detail,color:"primary",children:["URL: ",(0,j.jsx)(It.Z,{string:t.url})]})]})})]})},Ln=(0,o.Z)((function(e){return{displayQuestions:{justifyContent:"space-around",alignItems:"center",background:"#51AFC3",padding:"1%",display:"flex",flexDirection:"row",border:"1px solid black",borderRadius:"5px",marginBottom:0},displayFullQuestions:{width:"100%",height:"100%",display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",columnGap:"1%",overflowY:"hidden",overflowX:"scroll"},columnQuestion:{border:"1px solid black",overflowX:"hidden",overflowY:"scroll",width:"100%",padding:"10px",margin:"3px 5px",borderRadius:"10px",boxShadow:"1px 1px 1px #000000"},header:{color:e.palette.tertiary.contrastText,backgroundColor:e.palette.tertiary.main,padding:"5px",width:"fit-content",borderRadius:"5px",border:"1px solid black",boxShadow:"1px 1px 1px #000000"}}})),Vn=function(e){var t=e.data,n=Ln();return(0,j.jsx)("div",{className:n.displayFullQuestions,children:t.map((function(e,t){return(0,j.jsxs)("div",{className:n.columnQuestion,children:[(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"10px 0",overflow:"visible"},children:(0,j.jsxs)("h2",{className:n.header,children:["B\u1ed9 \u0111\u1ec1 s\u1ed1 ",t+1]})}),e.data.map((function(e){return(0,j.jsx)("div",{style:{marginBottom:"10px",textAlign:"left"},children:(0,j.jsx)(zn,{data:e})},e.id)}))]},t)}))})},Hn=n(12010),Mn=(0,o.Z)((function(e){return{formChooseScore:{width:"100%",backgroundColor:e.palette.info.main,borderRadius:"10px",border:"1px solid black",boxShadow:"1px 1px 1px #000000"},formatQuestion:{display:"grid",gridTemplateColumns:"20% 80%",marginBottom:"6px",alignItems:"center"},inputQuestion:{backgroundColor:e.palette.info.main,width:"100%",height:"50px",border:"1px solid black",borderRadius:"5px",boxShadow:"1px 1px 1px #000000"},RadioBtn:{width:"100%",color:"green","&:active":{backgroundColor:e.palette.tertiary.main}},radioButtonSuccess:{margin:0},infoIcon:{marginLeft:"5px","&:hover":{color:e.palette.tertiary.main},"&:active":{backgroundColor:e.palette.tertiary.main,color:"green"}}}})),Kn=function(e){var t=Mn(),n=e.id,o=e.submitInfo,s=e.formatQuestion,c=e.setSubmitInfo,d=e.setFormatQuestion,p=e.item,m=(0,a.useState)([10,20,30]),x=(0,r.Z)(m,2),h=x[0],f=(x[1],(0,a.useState)(!0)),v=(0,r.Z)(f,2),g=v[0],b=v[1];(0,a.useEffect)((function(){if(o){var e=(0,u.Z)(s);e[n].score=-1,d(e)}}),[o]);var y=function(t){return function(){c(!1);var r=(0,u.Z)(s);r[n].score=t;var a=e.data.data[3*(parseInt(p.score)/10-1)+n];r[n].type=a.type,r[n].time=yt((0,W.Z)((0,W.Z)({},a),{},{score:t})),r[n].time_practical=jt((0,W.Z)((0,W.Z)({},a),{},{score:t})),r[n].data={question:a.question,topic:a.topic,url:a.url,ans:a.ans,solution:a.solution,solutionURL:a.solutionURL},i.W.emit("controller:talk",{receivers:["viewer","livestream","mc"],eventName:"VD:chooseValueQuestion",data:{id:n,score:t}}),d(r)}};return(0,j.jsxs)("div",{className:t.formatQuestion,children:[(0,j.jsx)("div",{className:t.formChooseScore,children:(0,j.jsx)(Ye.Z,{row:!0,"aria-label":"checker",value:p.score,color:"tertiary",variant:"contained",style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},children:h.map((function(e,n){return(0,j.jsx)(Ae.Z,{className:t.radioButtonSuccess,value:e,control:(0,j.jsx)(Je.Z,{className:t.RadioBtn,onClick:y(e),color:"primary",inputProps:{style:{color:"green"}}})},n)}))})}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"90% 10%",marginLeft:"30px"},children:[(0,j.jsx)(Te.Z,{className:t.inputQuestion,value:-1===p.score?"C\xe2u th\u1ee9 "+(n+1)+" ch\u01b0a ch\u1ecdn m\u1ed1c \u0111i\u1ec3m":e.data.data[3*(p.score/10-1)+n].question,onInput:function(e){var t=(0,u.Z)(s);t[n].data.question&&(t[n].data.question=e.target.value),d(t)},variant:"outlined",inputProps:{style:{marginLeft:"5px",width:"100%"}},disabled:g}),(0,j.jsx)(l.Z,{className:t.infoIcon,onClick:function(){b((function(e){return!e}))},disabled:-1===p.score,children:(0,j.jsx)(vt.Z,{})})]})]})},Gn=(0,o.Z)((function(e){return{arrowButtonBack:{"&:hover":{backgroundColor:"#51AFC3"},overflow:"hidden"},iconBack:{fontSize:100,"&:hover":{color:"green"}},propMenus:{height:"100%",display:"flex",flexDirection:"column",margin:"0 30px",justifyContent:"center",alignItems:"center"},formSelect:{margin:"5px",height:"50px",width:"100%",border:"1px solid black"},submitButton:{fontWeight:"bold",marginTop:"10px",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000","&:hover":{backgroundColor:"green",color:e.palette.secondary.contrastText},width:"50%"},setInfo:{overflowY:"scroll",alignItems:"center",width:"100%",height:"100%",display:"grid",gridTemplateColumns:"24% 64% 7% 5%"},titleScore:{display:"grid",gridTemplateColumns:"20%  80%"},valueScore:{fontWeight:"bold"},formatQuestion:{display:"flex",flexDirection:"column",width:"100%"},startButton:{marginTop:"1%",fontWeight:"bold",border:"1px solid black",backgroundColor:e.palette.tertiary.main,boxShadow:"1px 1px 1px #000000","&:hover":{backgroundColor:e.palette.error.main,color:e.palette.secondary.contrastText},overflowY:"hidden"}}})),Un=function(e){var t=Gn(),n=(0,a.useContext)(w.T),o=(0,a.useState)(!1),c=(0,r.Z)(o,2),d=c[0],u=c[1];(0,a.useEffect)((function(){var t=!0;e.formatQuestion.forEach((function(e){-1===e.score&&(t=!1)})),u(t)}),[e.formatQuestion]);return(0,a.useEffect)((function(){e.selectedOption!==e.selectedPlayer&&e.setSelectedOption(e.selectedPlayer)}),[]),(0,j.jsxs)("div",{className:t.setInfo,children:[(0,j.jsxs)("div",{className:t.propMenus,children:[(0,j.jsx)(m.Z,{className:t.formSelect,title:"Ch\u1ecdn b\u1ed9 \u0111\u1ec1",id:"form_control",type:"select",value:e.selectedOption,onChange:function(t){return e.setSelectedOption(t.target.value)},variant:"outlined",children:e.data.map((function(e,n){return(0,j.jsx)(x.Z,{value:e.id,className:t.menuItem,children:(0,j.jsxs)(h.Z,{variant:"h6",color:"primary",children:["B\u1ed9 \u0111\u1ec1 s\u1ed1 ",e.id]})},n)}))}),(0,j.jsx)(m.Z,{className:t.formSelect,title:"Ch\u1ecdn ng\u01b0\u1eddi ch\u01a1i",id:"form_control",type:"select",value:e.selectedPlayer,onChange:function(t){e.setSelectedPlayer(t.target.value),e.setSelectedOption(t.target.value)},variant:"outlined",children:n.state.players.map((function(e,n){return(0,j.jsx)(x.Z,{value:e.order,className:t.menuItem,children:(0,j.jsx)(h.Z,{variant:"h6",color:"primary",children:e.name})},n)}))}),(0,j.jsxs)(s.Z,{style:{width:"100%"},children:[(0,j.jsx)(b.Z,{className:t.submitButton,onClick:function(){i.W.emit("controller:talk",{receivers:["client","controller","mc","viewer","livestream"],eventName:"VD:init_data",data:{questions:e.selectedOption,player:e.selectedPlayer}}),e.setSubmitInfo(!0)},variant:"contained",color:"tertiary",children:"Ch\u1ed1t"}),(0,j.jsx)(b.Z,{className:t.submitButton,onClick:function(){i.W.emit("controller:talk",{receivers:["client","controller","mc","viewer","livestream"],eventName:"VD:swap_screen",data:{screen:"value"}})},variant:"contained",color:"tertiary",children:"G\xf3i c\xe2u h\u1ecfi"})]})]}),(0,j.jsxs)("div",{style:{width:"100%",height:"100%"},children:[(0,j.jsx)("div",{className:t.formatQuestion,children:(0,j.jsxs)("div",{className:t.titleScore,children:[(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginRight:"20px"},children:[(0,j.jsx)("div",{className:t.valueScore,children:"10"}),(0,j.jsx)("div",{className:t.valueScore,style:{margin:"0, 5px"},children:"20"}),(0,j.jsx)("div",{className:t.valueScore,children:"30"})]}),(0,j.jsx)("div",{})]})}),(0,j.jsx)("div",{className:t.formatQuestion,children:e.formatQuestion.map((function(t,n){return(0,j.jsx)(Kn,{id:n,item:t,data:e.data[e.selectedOption-1],submitInfo:e.submitInfo,setSubmitInfo:e.setSubmitInfo,formatQuestion:e.formatQuestion,setFormatQuestion:e.setFormatQuestion},n)}))})]}),(0,j.jsx)(b.Z,{className:t.startButton,onClick:function(){e.setNextForm(!0),e.setCurrentQuestion(1)},disabled:!d,color:"success",variant:"contained",children:"B\u1eaft \u0111\u1ea7u"}),(0,j.jsx)(l.Z,{className:t.arrowButtonBack,disabled:!d,onClick:function(){e.setNextForm(!0)},children:(0,j.jsx)(Hn.Z,{className:t.iconBack,color:"danger",fontSize:"large"})})]})},Yn=(0,o.Z)((function(e){return{round:{height:"100%",width:"100%",display:"grid",gridTemplateRows:"70% 30%",overflowY:"scroll"},roundDisplay:{justifyContent:"space-around",alignItems:"center",background:"#51AFC3",padding:"1%",margin:"1%",display:"flex",flexDirection:"row",border:"1px solid black",borderRadius:"5px",marginBottom:0,overflowY:"scroll",boxShadow:"2px 2px 2px #000"},roundController:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:"#51AFC3",margin:"1%",border:"1px solid black",borderRadius:"5px",overflowY:"scroll",boxShadow:"2px 2px 2px #000"}}})),Jn=function(e){var t=Yn(),n=e.nextForm,o=e.setNextForm,i=e.data,s=e.selectedPlayer,l=e.setSelectedPlayer,c=e.formatQuestion,d=e.setFormatQuestion,u=e.setCurrentQuestion,p=(0,a.useState)(!1),m=(0,r.Z)(p,2),x=m[0],h=m[1],f=(0,a.useState)(1),v=(0,r.Z)(f,2),g=v[0],b=v[1];return(0,j.jsxs)("div",{className:t.round,children:[(0,j.jsx)("div",{className:t.roundDisplay,children:(0,j.jsx)(Vn,{data:i})}),(0,j.jsx)("div",{className:t.roundController,children:(0,j.jsx)(Un,{data:i,selectedOption:g,setSelectedOption:b,selectedPlayer:s,setSelectedPlayer:l,formatQuestion:c,setFormatQuestion:d,nextForm:n,setNextForm:o,submitInfo:x,setSubmitInfo:h,setCurrentQuestion:u})})]})},Xn=[].concat(["client"],["controller","mc","viewer","livestream"]),$n=(0,o.Z)((function(e){return{round:{border:"1px solid black",borderRadius:"5px",height:"calc(100vh - 150px)",background:"#C4C4C4",overflowY:"scroll",boxShadow:"inset 5px 5px 5px #000"}}})),er=function(e){var t=e.refSync,n=$n(),o=(0,a.useState)(null),s=(0,r.Z)(o,2),l=s[0],c=s[1],d=(0,a.useState)(!1),p=(0,r.Z)(d,2),m=p[0],x=p[1],h=(0,a.useState)(1),f=(0,r.Z)(h,2),v=f[0],g=f[1],b=(0,a.useState)(1),y=(0,r.Z)(b,2),C=y[0],k=y[1],w=(0,a.useState)((0,u.Z)(bt)),Z=(0,r.Z)(w,2),N=Z[0],S=Z[1],T=(0,a.useState)(!0),R=(0,r.Z)(T,2),I=R[0],B=R[1];return(0,a.useEffect)((function(){console.log("VD IS RENDER")})),(0,a.useEffect)((function(){var e=function(){var e=(0,Oe.Z)((0,Fe.Z)().mark((function e(){var t;return(0,Fe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt().get("http://localhost:2021/admin/game-content/VD");case 2:t=e.sent,console.log("[DATA] ",t.data),c(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t.current=e,B(!1)}),[]),(0,a.useEffect)((function(){m?i.W.emit("controller:talk",{receivers:(0,u.Z)(Xn),eventName:"VD:swap_screen",data:{screen:"question"}}):I?B(!1):(i.W.emit("controller:talk",{receivers:(0,u.Z)(Xn),eventName:"VD:status",data:{status:"end",player:v}}),S((function(e){return e.map((function(e){return(0,W.Z)((0,W.Z)({},e),{},{score:-1,data:{}})}))})))}),[m]),(0,j.jsx)("div",{className:n.round,children:l&&(0,j.jsx)(j.Fragment,{children:m?(0,j.jsx)(On,{nextForm:m,setIsFirstRender:B,formatQuestion:N,setFormatQuestion:S,currentQuestion:C,setNextForm:x,selectedPlayer:v,setCurrentQuestion:k}):(0,j.jsx)(Jn,{nextForm:m,setNextForm:x,data:l,selectedPlayer:v,setSelectedPlayer:g,formatQuestion:N,setFormatQuestion:S,setCurrentQuestion:k})})})},tr=n(70095),nr=(0,o.Z)((function(e){return{controller:{maxWidth:"100vw",maxHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"2rem",textAlign:"center",padding:"1rem",margin:0}}})),rr=["DKHT","MHDT","KD","VCNV","TT","VD","ST","CHP"],ar=function(){var e=nr(),t=(0,a.useState)("DKHT"),n=(0,r.Z)(t,2),o=n[0],s=n[1],l=(0,a.useRef)(null);console.log("Controller is render"),(0,tr.S)(),(0,a.useEffect)((function(){return i.W.on("connect",(function(){i.W.emit("ccvq:setName",{role:"controller",name:"Admin",position:"controller"})})),function(){i.W.off("connect")}}),[]);return(0,j.jsxs)("div",{className:e.controller,children:["DKHT"===o&&(0,j.jsx)(Yt,{}),"MHDT"===o&&(0,j.jsx)(pn,{}),"KD"===o&&(0,j.jsx)(ln,{refSync:l}),"VCNV"===o&&(0,j.jsx)(Wn,{refSync:l}),"TT"===o&&(0,j.jsx)(jn,{refSync:l}),"VD"===o&&(0,j.jsx)(er,{refSync:l}),"ST"===o&&(0,j.jsx)(Ft,{refSync:l}),"CHP"===o&&(0,j.jsx)(ft,{refSync:l}),(0,j.jsx)(Ee,{openController:function(e){s(e)},gameShown:o,syncData:function(){console.log("syncData",o),l.current()},handleNextRound:function(){s(rr[rr.indexOf(o)+1])},handlePreviousRound:function(){s(rr[rr.indexOf(o)-1])}})]})}},18477:function(e,t,n){n.d(t,{_J:function(){return o},hK:function(){return a},zT:function(){return i}});var r=n(3201);var a=function(e){for(var t=""+parseInt(e/60),n=""+Math.round(e%60);t.length<2;)t="0"+t;for(;n.length<2;)n="0"+n;return t+":"+n},o=function(e,t,n){r.W.emit("controller:talk",{receivers:e,eventName:t,data:n})},i=function(e,t){r.W.emit("controller:talk",{receivers:["controller","viewer","livestream","mc","client"],eventName:e,data:t})}}}]);