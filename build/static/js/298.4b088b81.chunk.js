(self.webpackChunkccvq_client=self.webpackChunkccvq_client||[]).push([[298],{67228:function(e){e.exports=function(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o},e.exports.__esModule=!0,e.exports.default=e.exports},60379:function(e,n,t){var o=t(67228);e.exports=function(e,n){if(e){if("string"===typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},75703:function(e,n,t){"use strict";var o=t(29439),a=t(47313),i=t(31904),r=t(3201),s=t(96225),c=t(46417),l=(0,i.Z)((function(e){return{container:{position:"absolute",top:0,right:0,backgroundColor:"#C43B00",width:"100vw",height:"100vh",zIndex:100},video:{margin:"auto"}}})),u=null,d=["bounceIn","bounceInDown","bounceInLeft","bounceInRight","bounceInUp","fadeIn","fadeInDown","fadeInDownBig","fadeInLeft","fadeInLeftBig","fadeInRight","fadeInRightBig","fadeInUp","fadeInUpBig","flipInX","flipInY","lightSpeedIn","roleIn","rotateIn","rotateInDownLeft","rotateInDownRight","rotateInUpLeft","rotateInUpRight","slideInDown","slideInLeft","slideInRight","slideInUp","zoomIn","zoomInDown","zoomInLeft","zoomInRight","zoomInUp"];n.Z=function(){var e=l(),n=(0,a.useRef)(null),t=(0,a.useState)(null),i=(0,o.Z)(t,2),m=i[0],f=i[1],g=(0,a.useState)("pause"),I=(0,o.Z)(g,2),p=I[0],h=I[1],k=(0,a.useState)(!1),A=(0,o.Z)(k,2),S=A[0],v=A[1],y=(0,a.useState)(null),R=(0,o.Z)(y,2),C=R[0],j=R[1],w=(0,a.useState)(null),x=(0,o.Z)(w,2),J=x[0],b=x[1];return(0,a.useEffect)((function(){if(m&&n.current)switch(p){case"play":n.current.actions.play();break;case"pause":n.current.actions.pause();break;case"reset":n.current.actions.seek(0),n.current.actions.pause()}"close"===p&&v(!1)}),[p,m]),(0,a.useEffect)((function(){return r.W.on("ccvq:playVideo",(function(e){h(e.status)})),r.W.on("ccvq:sendVideo",(function(e){if(v(!1),e.url&&(j(e.type),f(e.url),b(d[Math.floor(Math.random()*(d.length-0+1))+0]),v(!0),e.autoPlay))return u=setTimeout((function(){h("play")}),2500),function(){clearTimeout(u)}})),r.W.on("ccvq:videoStatus",(function(e){"end"===e.status&&(v(!1),h("pause"))})),function(){r.W.off("ccvq:playVideo"),r.W.off("ccvq:sendVideo"),r.W.off("ccvq:videoStatus")}}),[]),(0,c.jsx)(c.Fragment,{children:S&&(0,c.jsx)("div",{className:e.container,style:{animation:"2s ease 0s 1 normal none running ".concat(J)},children:m&&(0,c.jsx)("div",{className:e.video,children:"image"===C?(0,c.jsx)("img",{src:"".concat("/controller","/").concat(m),alt:"question",style:{height:"auto",width:"96%",padding:"2%"}}):(0,c.jsx)(s.J5,{ref:n,src:"".concat("/controller","/").concat(m),onEnded:function(){return u=setTimeout((function(){v(!1),h("pause"),r.W.emit("controller:talk",{receivers:["controller","scoreboard"],eventName:"ccvq:videoStatus",data:{status:"end"}})}),1e3),function(){clearTimeout(u)}},children:(0,c.jsx)(s.VS,{disableCompletely:!0})})})})})}},81290:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var o=t(47313),a=t(31904),i=t(25532),r=t(29439),s="data:image/png;base64,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",c=t(46417),l=(0,a.Z)((function(e){return{player1:{display:"grid",gridTemplateColumns:"24% 73%",columnGap:"2%",alignItems:"end",justifyContent:"end",position:"relative"},score:{height:"64%",marginBottom:"5%",backgroundColor:"#3C2245",display:"flex",justifyContent:"center",alignItems:"center",color:"#FBF6F5",fontWeight:900,fontSize:"5rem",animation:"2s ease 0s 1 normal none running fadeInRight"},nameContainer:{position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"end",alignItems:"end",animation:"1s ease 0s 1 normal none running fadeInRight"},background:{width:"63%",height:"15%",marginBottom:"1.9%",marginRight:"11%"},name:{position:"absolute",bottom:"5%",right:"28%",color:"#fbf6f5",fontWeight:600,fontSize:"2rem",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1},avatar:{position:"absolute",width:"60%",bottom:"5%",right:"10%",zIndex:0,animation:"1s ease 0s 1 normal none running zoomIn"}}})),u=null,d=function(e){var n=e.player,t=l(),a=o.useState(!1),i=(0,r.Z)(a,2),d=i[0],m=i[1];return o.useEffect((function(){return u=setTimeout((function(){m(!0)}),1e3),function(){clearTimeout(u)}}),[]),(0,c.jsxs)("div",{className:t.player1,children:[d?(0,c.jsx)("div",{className:t.score,children:n.score}):(0,c.jsx)("div",{}),(0,c.jsx)("img",{alt:"avatar",src:"".concat("/controller","/images/TS1.png")||0,className:t.avatar}),(0,c.jsxs)("div",{className:t.nameContainer,children:[(0,c.jsx)("img",{alt:"name",src:s,className:t.background}),(0,c.jsx)("div",{className:t.name,children:n.name})]})]})},m=(0,a.Z)((function(e){return{player2:{display:"grid",gridTemplateColumns:"74% 24%",columnGap:"2%",alignItems:"end",position:"relative"},score:{height:"64%",marginBottom:"5%",backgroundColor:"#3C2245",display:"flex",justifyContent:"center",alignItems:"center",color:"#FBF6F5",fontWeight:900,fontSize:"5rem",animation:"2s ease 0s 1 normal none running fadeInLeft"},nameContainer:{position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"top",alignItems:"end",animation:"1s ease 0s 1 normal none running fadeInLeft"},background:{width:"62%",height:"15%",marginBottom:"2%",marginLeft:"11%",transform:"scalex(-1)"},name:{position:"absolute",bottom:"5%",left:"28%",color:"#fbf6f5",fontWeight:600,fontSize:"2rem",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1},avatar:{position:"absolute",width:"60%",bottom:"5%",left:"10%",zIndex:0,animation:"1s ease 0s 1 normal none running zoomIn"}}})),f=null,g=function(e){var n=e.player,t=m(),a=o.useState(!1),i=(0,r.Z)(a,2),l=i[0],u=i[1];return o.useEffect((function(){return f=setTimeout((function(){u(!0)}),1e3),function(){clearTimeout(f)}}),[]),(0,c.jsxs)("div",{className:t.player2,children:[(0,c.jsx)("img",{alt:"avatar",src:"".concat("/controller","/images/TS2.png")||0,className:t.avatar}),(0,c.jsxs)("div",{className:t.nameContainer,children:[(0,c.jsx)("img",{alt:"name",src:s,className:t.background}),(0,c.jsx)("div",{className:t.name,children:n.name})]}),l&&(0,c.jsx)("div",{className:t.score,children:n.score})]})},I=(0,a.Z)((function(e){return{player3:{display:"grid",gridTemplateColumns:"24% 73%",columnGap:"2%",alignItems:"top",position:"relative"},score:{height:"64%",marginTop:"5%",backgroundColor:"#3C2245",display:"flex",justifyContent:"center",alignItems:"center",color:"#FBF6F5",fontWeight:900,fontSize:"5rem",animation:"2s ease 0s 1 normal none running fadeInRight"},nameContainer:{position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"end",alignItems:"end",transform:"scalex(-1)",animation:"1s ease 0s 1 normal none running fadeInLeft"},background:{width:"63%",height:"15%",marginBottom:"1.9%",marginRight:"12%"},name:{position:"absolute",bottom:"5%",right:"28%",color:"#fbf6f5",fontWeight:600,fontSize:"2rem",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1,transform:"scalex(-1)"},avatar:{position:"absolute",width:"60%",bottom:"5%",right:"10%",zIndex:0,animation:"1s ease 0s 1 normal none running zoomIn"}}})),p=null,h=function(e){var n=e.player,t=I(),a=o.useState(!1),i=(0,r.Z)(a,2),l=i[0],u=i[1];return o.useEffect((function(){return p=setTimeout((function(){u(!0)}),1e3),function(){clearTimeout(p)}}),[]),(0,c.jsxs)("div",{className:t.player3,children:[l?(0,c.jsx)("div",{className:t.score,children:n.score}):(0,c.jsx)("div",{}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"end"},children:[(0,c.jsx)("img",{alt:"avatar",src:"".concat("/controller","/images/TS3.png")||0,className:t.avatar}),(0,c.jsxs)("div",{className:t.nameContainer,children:[(0,c.jsx)("img",{alt:"name",src:s,className:t.background}),(0,c.jsx)("div",{className:t.name,children:n.name})]})]})]})},k=(0,a.Z)((function(e){return{player4:{display:"grid",gridTemplateColumns:"74% 24%",columnGap:"2%",alignItems:"top",position:"relative"},score:{height:"64%",marginTop:"5%",backgroundColor:"#3C2245",display:"flex",justifyContent:"center",alignItems:"center",color:"#FBF6F5",fontWeight:900,fontSize:"5rem",animation:"2s ease 0s 1 normal none running fadeInLeft"},nameContainer:{position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"end",alignItems:"end",animation:"1s ease 0s 1 normal none running fadeInRight"},background:{width:"62%",height:"15%",marginBottom:"1.7%",marginRight:"12%"},name:{position:"absolute",bottom:"5%",right:"28%",color:"#fbf6f5",fontWeight:600,fontSize:"2rem",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1},avatar:{position:"absolute",width:"60%",bottom:"5%",left:"10%",zIndex:0,animation:"1s ease 0s 1 normal none running zoomIn"}}})),A=null,S=function(e){var n=e.player,t=k(),a=(0,o.useState)(!1),i=(0,r.Z)(a,2),l=i[0],u=i[1];return(0,o.useEffect)((function(){return A=setTimeout((function(){u(!0)}),1e3),function(){clearTimeout(A)}}),[]),(0,c.jsxs)("div",{className:t.player4,children:[(0,c.jsxs)("div",{style:{display:"flex",alignItems:"end",justifyContent:"right"},children:[(0,c.jsx)("img",{alt:"avatar",src:"".concat("/controller","/images/TS4.png")||0,className:t.avatar}),(0,c.jsxs)("div",{className:t.nameContainer,children:[(0,c.jsx)("img",{alt:"name",src:s,className:t.background}),(0,c.jsx)("div",{className:t.name,children:n.name})]})]}),l&&(0,c.jsx)("div",{className:t.score,children:n.score})]})},v=function(e){var n=e.player;switch(n.order){case 1:return(0,c.jsx)(d,{player:n});case 2:return(0,c.jsx)(g,{player:n});case 3:return(0,c.jsx)(h,{player:n});case 4:return(0,c.jsx)(S,{player:n});default:return(0,c.jsx)(c.Fragment,{})}},y=t.p+"static/media/background.2c9d593af656fde0fcb4.png",R=(0,a.Z)((function(e){return{screen:{width:"100vw",height:"100vh",overflow:"hidden"},background:{height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",zIndex:-1},players:{position:"absolute",top:"14%",left:"9%",width:"84%",height:"67%",display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 1fr",columnGap:"12%",rowGap:"13%"}}})),C=function(){var e=(0,o.useContext)(i.T),n=R();return(0,c.jsxs)("div",{className:n.screen,children:[(0,c.jsx)("img",{alt:"background",src:y,className:n.background}),(0,c.jsx)("div",{className:n.players,children:e.state.players.map((function(e){return(0,c.jsx)(v,{player:e})}))})]})}},70095:function(e,n,t){"use strict";t.d(n,{S:function(){return r}});var o=t(47313),a=t(25532),i=t(3201),r=function(){var e=(0,o.useContext)(a.T),n=e.state,t=e.action;(0,o.useEffect)((function(){return i.W.on("server:connectedData",(function(e){t.setConnections(e.users,e.viewer),e.scores.forEach((function(e){t.setPlayerName(e.order,e.name)})),t.addLog("INFO",e.info.role,"".concat(e.info.name," v\u1eeba k\u1ebft n\u1ed1i")),"/controller"===document.location.pathname&&i.W.emit("controller:talk",{receivers:["mc","client","viewer","livestream","scoreboard"],eventName:"ccvq:updateScore",data:{players:n.players}})})),i.W.on("server:disconnectedData",(function(e){})),i.W.on("ccvq:controllerReset",(function(e){"success"===e.status&&window.location.reload()})),function(){i.W.off("server:connectedData"),i.W.off("server:disconnectedData"),i.W.off("ccvq:controllerReset")}}),[])}},68194:function(e,n,t){"use strict";t.r(n);var o=t(47313),a=t(31904),i=t(25532),r=t(3201),s=t(81290),c=t(75703),l=t(70095),u=t(46417),d=(0,a.Z)((function(e){return{viewer:{width:"100vw",height:"100vh",backgroundColor:"#000"}}}));n.default=function(){var e=d(),n=(0,o.useContext)(i.T);return(0,o.useEffect)((function(){return r.W.on("connect",(function(){r.W.emit("ccvq:setName",{role:"scoreboard",name:"scoreboard",position:"scoreboard"})})),function(){r.W.off("connect")}}),[]),(0,l.S)(),(0,o.useEffect)((function(){localStorage.setItem("players",JSON.stringify(n.state.players))}),[]),(0,u.jsxs)("div",{className:e.viewer,children:[(0,u.jsx)(c.Z,{}),(0,u.jsx)(s.Z,{})]})}}}]);